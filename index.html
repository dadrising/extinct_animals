<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—Ç—Ä–∞—á–µ–Ω–∏–π –°–≤—ñ—Ç: –ü–ª–∞—Ç–∏–Ω–æ–≤–∞ –ï–Ω—Ü–∏–∫–ª–æ–ø–µ–¥—ñ—è</title>
    
    <!-- ==================== DEPENDENCIES ==================== -->
    
    <!-- Tailwind CSS (Styling Framework) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js (For timeline graph) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Three.js (Required for Globe) -->
    <script src="//unpkg.com/three"></script>
    <!-- Globe.gl (For 3D Earth) -->
    <script src="//unpkg.com/globe.gl"></script>

    <!-- Google Fonts (For typography) -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Fredoka:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- ==================== CUSTOM STYLES ==================== -->
    <style>
        /* --- BASE SETTINGS --- */
        body {
            font-family: 'Nunito', sans-serif;
            background-color: #f0fdfa; /* Teal-50 */
            color: #064e3b; /* Emerald-900 */
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        h1, h2, h3, h4, h5, .fun-font {
            font-family: 'Fredoka', sans-serif;
        }

        /* --- ANIMATIONS --- */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        @keyframes pulse-soft {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .animate-float {
            animation: float 5s ease-in-out infinite;
        }

        /* --- CARD COMPONENT --- */
        .animal-card {
            background: white;
            border: 1px solid #ccfbf1;
            border-radius: 1.5rem;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .animal-card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: 0 25px 50px -12px rgba(5, 150, 105, 0.2);
            border-color: #34d399;
            z-index: 10;
        }

        .card-img-wrapper {
            height: 280px;
            overflow: hidden;
            position: relative;
            background-color: #e2e8f0;
            border-bottom: 4px solid #f0fdf4;
        }

        .card-img-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s ease;
        }

        .animal-card:hover .card-img-wrapper img {
            transform: scale(1.15);
        }

        /* --- GLOBE STYLING --- */
        #globe-wrapper {
            width: 100%;
            height: 750px;
            border-radius: 3rem;
            overflow: hidden;
            background: #020617; /* Deep Space Black */
            box-shadow: inset 0 0 100px rgba(0,0,0,0.9), 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            position: relative;
            border: 8px solid #1e293b;
        }

        #globeViz {
            width: 100%;
            height: 100%;
        }

        /* Globe Tooltip */
        .globe-tooltip {
            position: absolute;
            background: rgba(255, 255, 255, 0.98);
            color: #064e3b;
            padding: 10px 16px;
            border-radius: 12px;
            font-weight: 800;
            font-family: 'Nunito', sans-serif;
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.3);
            pointer-events: none;
            display: none;
            z-index: 50;
            transform: translate(-50%, -150%);
            border: 2px solid #10b981;
            min-width: 140px;
            text-align: center;
        }
        
        .globe-tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -8px;
            border-width: 8px;
            border-style: solid;
            border-color: #10b981 transparent transparent transparent;
        }

        /* Globe Popup Card */
        .globe-popup {
            position: absolute;
            bottom: 30px;
            left: 30px;
            width: 340px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            padding: 24px;
            border-radius: 24px;
            box-shadow: 0 20px 25px -5px rgba(0,0,0,0.4);
            border: 1px solid rgba(255,255,255,0.5);
            transform: translateY(200%);
            transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: 40;
        }
        .globe-popup.active {
            transform: translateY(0);
        }

        /* --- UI ELEMENTS --- */
        .filter-btn { 
            transition: all 0.3s; 
            font-weight: 800;
            letter-spacing: 0.025em;
            position: relative;
            overflow: hidden;
        }
        
        .filter-active {
            background-color: #059669 !important; 
            color: white !important;
            transform: scale(1.05);
            box-shadow: 0 10px 15px -3px rgba(5, 150, 105, 0.3);
            border-color: transparent !important;
        }

        .btn-primary {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            color: white;
            transition: all 0.3s;
        }
        .btn-primary:hover {
            filter: brightness(1.15);
            box-shadow: 0 0 25px rgba(5, 150, 105, 0.6);
            transform: translateY(-2px);
        }

        /* --- QUIZ UI --- */
        .quiz-option {
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            border: 2px solid transparent;
        }
        .quiz-option:hover:not(.disabled) { 
            background-color: #f0fdf4; 
            padding-left: 2rem;
            border-color: #34d399;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .quiz-correct { 
            background-color: #dcfce7 !important; 
            border-color: #22c55e !important; 
            color: #14532d !important;
            font-weight: 800;
        }
        .quiz-wrong { 
            background-color: #fee2e2 !important; 
            border-color: #ef4444 !important; 
            color: #7f1d1d !important;
            opacity: 0.8;
        }
        .disabled { 
            pointer-events: none; 
            cursor: default;
        }

        /* --- MODAL --- */
        .modal-overlay {
            background-color: rgba(2, 6, 23, 0.9);
            backdrop-filter: blur(8px);
            z-index: 100;
        }
        .modal-content {
            animation: modalPop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes modalPop {
            from { opacity: 0; transform: scale(0.8) translateY(40px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        /* --- CHART SCROLL --- */
        .chart-scroll-wrapper {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            padding-bottom: 2rem;
            scrollbar-width: thin;
            scrollbar-color: #059669 #ecfdf5;
            mask-image: linear-gradient(to right, transparent, black 2%, black 98%, transparent);
        }
        .chart-scroll-inner {
            min-width: 1600px; /* Extra wide for 40 animals */
            height: 600px;
            position: relative;
        }
        
        .hidden-content { display: none !important; }

        /* --- SCROLLBARS --- */
        ::-webkit-scrollbar { width: 12px; height: 12px; }
        ::-webkit-scrollbar-track { background: #ecfdf5; }
        ::-webkit-scrollbar-thumb { 
            background: #059669; 
            border-radius: 6px; 
            border: 3px solid #f0fdf4;
        }
        ::-webkit-scrollbar-thumb:hover { background: #047857; }
    </style>
</head>
<body class="antialiased selection:bg-emerald-200 selection:text-emerald-900">

    <!-- ==================== HEADER & NAV ==================== -->
    <nav class="bg-white/95 backdrop-blur-xl text-emerald-900 sticky top-0 z-50 shadow-xl border-b border-emerald-100 transition-all duration-300">
        <div class="container mx-auto px-4 py-4 flex flex-wrap justify-between items-center">
            <div class="text-2xl md:text-3xl font-black flex items-center gap-3 fun-font tracking-wide cursor-pointer" onclick="window.scrollTo(0,0)">
                <span class="text-4xl animate-float inline-block drop-shadow-md">ü¶ñ</span> 
                <span class="bg-clip-text text-transparent bg-gradient-to-r from-emerald-600 to-teal-500">–í—Ç—Ä–∞—á–µ–Ω–∏–π –°–≤—ñ—Ç</span>
            </div>
            <div class="flex space-x-2 md:space-x-4 font-bold text-xs md:text-sm uppercase tracking-wider">
                <button onclick="scrollToSection('gallery')" class="px-4 py-2 rounded-xl hover:bg-emerald-50 hover:text-emerald-700 transition duration-300">–ï–Ω—Ü–∏–∫–ª–æ–ø–µ–¥—ñ—è</button>
                <button onclick="scrollToSection('globe-section')" class="px-4 py-2 rounded-xl hover:bg-emerald-50 hover:text-emerald-700 transition duration-300">–ì–ª–æ–±—É—Å</button>
                <button onclick="scrollToSection('quiz-section')" class="bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-6 py-2 rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition duration-300 border-b-2 border-orange-600 active:border-b-0 active:translate-y-0">–ì—Ä–∞—Ç–∏!</button>
            </div>
        </div>
    </nav>

    <header class="container mx-auto px-4 py-24 text-center relative overflow-hidden">
        <!-- Background Decor -->
        <div class="absolute top-10 left-10 w-64 h-64 bg-emerald-300/20 rounded-full blur-3xl -z-10 animate-pulse"></div>
        <div class="absolute bottom-10 right-10 w-80 h-80 bg-blue-300/20 rounded-full blur-3xl -z-10 animate-pulse" style="animation-delay: 1.5s;"></div>

        <span class="inline-block bg-white text-emerald-800 px-6 py-2 rounded-full text-sm font-black mb-8 tracking-widest uppercase border border-emerald-200 shadow-md">
            üåü –ü–ª–∞—Ç–∏–Ω–æ–≤–µ –í–∏–¥–∞–Ω–Ω—è v1.0
        </span>
        <h1 class="text-5xl md:text-8xl font-black text-[#064e3b] mb-8 drop-shadow-sm leading-tight fun-font">
            40 –î–∏–≤–æ–≤–∏–∂–Ω–∏—Ö –¢–≤–∞—Ä–∏–Ω<br> 
            <span class="text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-teal-500">–ó –ú–∏–Ω—É–ª–æ–≥–æ</span>
        </h1>
        <p class="text-xl md:text-2xl text-[#065f46] max-w-4xl mx-auto mb-12 font-bold leading-relaxed bg-white/60 backdrop-blur-md p-8 rounded-[2rem] border border-white shadow-lg">
            –ü—Ä–∏–≤—ñ—Ç! üïµÔ∏è‚Äç‚ôÄÔ∏è –ì–æ—Ç–æ–≤–∞ –¥–æ –Ω–∞–π–±—ñ–ª—å—à–æ—ó –ø—Ä–∏–≥–æ–¥–∏? 
            –ú–∏ –¥–æ–¥–∞–ª–∏ <strong>40 —Ç–≤–∞—Ä–∏–Ω</strong> ‚Äî –≤—ñ–¥ –≥—ñ–≥–∞–Ω—Ç—Å—å–∫–∏—Ö –±–∞–±–æ–∫ –¥–æ –∫–∏—Ç—ñ–≤-–≤–±–∏–≤—Ü—å. 
            –î–æ—Å–ª—ñ–¥–∂—É–π, –∫—Ä—É—Ç–∏ 3D-–≥–ª–æ–±—É—Å —ñ —Å—Ç–∞–Ω—å —Å–ø—Ä–∞–≤–∂–Ω—ñ–º –µ–∫—Å–ø–µ—Ä—Ç–æ–º!
        </p>
        <div class="flex flex-col sm:flex-row gap-6 justify-center">
            <button onclick="scrollToSection('gallery')" class="btn-primary px-12 py-6 rounded-2xl text-xl font-black shadow-2xl transform transition hover:scale-105 border-b-4 border-[#064e3b] active:border-b-0 active:translate-y-1 flex items-center justify-center gap-3">
                <span>üìñ</span> –í—ñ–¥–∫—Ä–∏—Ç–∏ –ï–Ω—Ü–∏–∫–ª–æ–ø–µ–¥—ñ—é
            </button>
            <button onclick="scrollToSection('globe-section')" class="bg-white text-emerald-800 px-12 py-6 rounded-2xl text-xl font-black shadow-2xl transform transition hover:scale-105 border-b-4 border-emerald-200 active:border-b-0 active:translate-y-1 flex items-center justify-center gap-3">
                <span>üåè</span> –î–æ –ì–ª–æ–±—É—Å–∞
            </button>
        </div>
    </header>

    <!-- ==================== MAIN CONTENT ==================== -->
    <main class="container mx-auto px-4 space-y-40 pb-20">

        <!-- SECTION 1: GALLERY -->
        <section id="gallery">
            <div class="text-center mb-16">
                <h2 class="text-5xl md:text-6xl font-black text-[#064e3b] mb-10 fun-font">üì∏ –ú–µ–≥–∞ –ï–Ω—Ü–∏–∫–ª–æ–ø–µ–¥—ñ—è</h2>
                
                <!-- Control Panel -->
                <div class="bg-white p-8 rounded-[2.5rem] shadow-xl border border-emerald-100 max-w-7xl mx-auto">
                    <div class="flex flex-col xl:flex-row justify-between items-center gap-8">
                        
                        <!-- Categories -->
                        <div class="flex flex-wrap justify-center gap-3">
                            <button onclick="applyFilter('all')" class="filter-btn filter-active px-6 py-3 rounded-xl bg-gray-50 text-gray-600 font-bold text-sm border hover:bg-emerald-50 transition">–í—Å—ñ (40)</button>
                            <button onclick="applyFilter('dino')" class="filter-btn px-6 py-3 rounded-xl bg-red-50 text-red-800 font-bold text-sm border border-red-100 hover:bg-red-100 transition">ü¶ñ –î–∏–Ω–æ–∑–∞–≤—Ä–∏</button>
                            <button onclick="applyFilter('mammal')" class="filter-btn px-6 py-3 rounded-xl bg-blue-50 text-blue-800 font-bold text-sm border border-blue-100 hover:bg-blue-100 transition">üêò –°—Å–∞–≤—Ü—ñ</button>
                            <button onclick="applyFilter('bird')" class="filter-btn px-6 py-3 rounded-xl bg-yellow-50 text-yellow-800 font-bold text-sm border border-yellow-100 hover:bg-yellow-100 transition">ü¶Ö –ü—Ç–∞—Ö–∏</button>
                            <button onclick="applyFilter('water')" class="filter-btn px-6 py-3 rounded-xl bg-cyan-50 text-cyan-800 font-bold text-sm border border-cyan-100 hover:bg-cyan-100 transition">üê≥ –í–æ–¥–Ω—ñ</button>
                            <button onclick="applyFilter('reptile')" class="filter-btn px-6 py-3 rounded-xl bg-green-50 text-green-800 font-bold text-sm border border-green-100 hover:bg-green-100 transition">ü¶é –Ü–Ω—à—ñ</button>
                        </div>

                        <!-- Divider -->
                        <div class="hidden xl:block w-px h-12 bg-gray-200"></div>

                        <!-- Sorter -->
                        <div class="flex items-center gap-4 w-full xl:w-auto bg-gray-50 p-2 rounded-2xl border border-gray-200">
                            <label for="sort-select" class="font-bold text-sm text-gray-500 uppercase tracking-wider ml-2">–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è:</label>
                            <select id="sort-select" onchange="applySort()" class="bg-white px-5 py-3 rounded-xl border border-gray-300 focus:outline-none focus:border-emerald-500 font-bold text-sm text-emerald-900 cursor-pointer hover:border-emerald-400 transition w-full xl:w-auto shadow-sm">
                                <option value="default">üìö –ó–∞ —Å–ø–∏—Å–∫–æ–º</option>
                                <option value="weight-desc">üêò –°–ø–æ—á–∞—Ç–∫—É –≤–∞–∂–∫—ñ</option>
                                <option value="weight-asc">üêÅ –°–ø–æ—á–∞—Ç–∫—É –ª–µ–≥–∫—ñ</option>
                                <option value="time-old">‚è≥ –ù–∞–π–¥–∞–≤–Ω—ñ—à—ñ</option>
                                <option value="time-new">üò¢ –ù–µ—â–æ–¥–∞–≤–Ω—ñ</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cards Grid -->
            <div id="animal-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                <!-- Populated via JS -->
            </div>
        </section>

        <!-- SECTION 2: 3D GLOBE -->
        <section id="globe-section" class="scroll-mt-32">
            <div class="bg-[#0f172a] p-6 md:p-12 rounded-[3rem] shadow-2xl text-white border-8 border-[#1e293b] relative overflow-hidden">
                
                <div class="text-center mb-10 relative z-10">
                    <span class="text-blue-400 font-bold tracking-widest uppercase text-sm mb-3 block">–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ 3D –ö–∞—Ä—Ç–∞</span>
                    <h2 class="text-4xl md:text-6xl font-black mb-6 text-transparent bg-clip-text bg-gradient-to-r from-blue-200 to-emerald-200 fun-font">
                        üåè –î–µ –í–æ–Ω–∏ –ñ–∏–ª–∏?
                    </h2>
                    <div class="inline-flex items-center bg-white/10 px-6 py-3 rounded-2xl backdrop-blur-md border border-white/10">
                        <span class="text-2xl mr-3">üñ±Ô∏è</span>
                        <p class="text-blue-100 font-bold">–ö—Ä—É—Ç–∏ –ø–ª–∞–Ω–µ—Ç—É, –Ω–∞–±–ª–∏–∂–∞–π —ñ –Ω–∞—Ç–∏—Å–∫–∞–π –Ω–∞ —ñ–∫–æ–Ω–∫–∏!</p>
                    </div>
                </div>
                
                <!-- Globe Wrapper -->
                <div id="globe-wrapper">
                    <div id="globeViz"></div>
                    
                    <!-- Info Popup inside Globe -->
                    <div id="globe-popup" class="globe-popup text-gray-900">
                        <button onclick="closeGlobePopup()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-900 transition text-xl font-bold">‚úï</button>
                        <div class="flex items-center gap-4 mb-4">
                            <span id="popup-icon" class="text-5xl bg-emerald-100 p-2 rounded-2xl"></span>
                            <div>
                                <h4 id="popup-title" class="text-2xl font-black text-[#064e3b] leading-none mb-1"></h4>
                                <p id="popup-period" class="text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-md inline-block"></p>
                            </div>
                        </div>
                        <img id="popup-img" src="" class="w-full h-40 object-cover rounded-xl mb-4 bg-gray-200 border border-gray-200">
                        <p id="popup-desc" class="text-sm text-gray-700 mb-5 font-medium line-clamp-3 leading-relaxed"></p>
                        <button id="popup-btn" class="w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition shadow-lg transform hover:scale-[1.02] active:scale-95">
                            –ß–∏—Ç–∞—Ç–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é
                        </button>
                    </div>

                    <!-- Tooltip -->
                    <div id="globe-custom-tooltip" class="globe-tooltip"></div>
                </div>

            </div>
        </section>

        <!-- SECTION 3: DATA LAB -->
        <section id="datalab" class="bg-white p-8 md:p-16 rounded-[4rem] shadow-2xl border border-emerald-50 relative overflow-hidden">
            <div class="absolute -top-20 -right-20 w-96 h-96 bg-yellow-100 rounded-full mix-blend-multiply filter blur-3xl opacity-50 pointer-events-none"></div>
            <div class="absolute -bottom-20 -left-20 w-96 h-96 bg-blue-100 rounded-full mix-blend-multiply filter blur-3xl opacity-50 pointer-events-none"></div>
            
            <div class="text-center mb-16 relative z-10">
                <h2 class="text-4xl md:text-5xl font-black text-[#064e3b] mb-4 fun-font">üìä –•—Ä–æ–Ω–æ–ª–æ–≥—ñ—è –†–æ–∑–º—ñ—Ä—ñ–≤</h2>
                <p class="text-xl text-gray-500 max-w-2xl mx-auto">
                    –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫. <br>
                    <span class="text-emerald-600 font-bold">–í–≥–æ—Ä—É</span> = –í–∞–∂—á–∏–π. <span class="text-emerald-600 font-bold">–í–ø—Ä–∞–≤–æ</span> = –ë–ª–∏–∂—á–µ –¥–æ –Ω–∞—à–æ–≥–æ —á–∞—Å—É.
                </p>
            </div>
            
            <div class="bg-gradient-to-r from-orange-50 via-blue-50 to-green-50 p-8 rounded-[3rem] border-4 border-white shadow-[inset_0_0_40px_rgba(0,0,0,0.05)]">
                <div class="chart-scroll-wrapper">
                    <div class="chart-scroll-inner">
                        <canvas id="emojiTimelineChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 4: QUIZ -->
        <section id="quiz-section" class="max-w-5xl mx-auto mt-32 scroll-mt-24">
            <div class="bg-white border-[12px] border-emerald-500 p-8 md:p-16 rounded-[3rem] shadow-2xl relative overflow-hidden">
                
                <div class="absolute top-0 right-0 bg-emerald-500 text-white font-black px-12 py-4 rounded-bl-[3rem] text-2xl shadow-md tracking-wider">
                    –ï–ö–ó–ê–ú–ï–ù üéì
                </div>
                
                <div class="text-center mb-12 mt-6">
                    <h2 class="text-4xl md:text-6xl font-black text-[#064e3b] mb-6 fun-font">–í—ñ–∫—Ç–æ—Ä–∏–Ω–∞ –ü–∞–ª–µ–æ–Ω—Ç–æ–ª–æ–≥–∞</h2>
                    <p class="text-xl text-gray-600 font-bold max-w-2xl mx-auto bg-emerald-50 py-3 px-8 rounded-full inline-block border border-emerald-100">
                        40 –ü–∏—Ç–∞–Ω—å. –¢—ñ–ª—å–∫–∏ —Ñ–∞–∫—Ç–∏, —Ç—ñ–ª—å–∫–∏ –Ω–∞—É–∫–∞!
                    </p>
                </div>

                <!-- Game Area -->
                <div id="quiz-game-area" class="transition-opacity duration-500">
                    <div class="flex justify-between items-center mb-10 text-base md:text-xl font-bold text-gray-500 border-b-2 border-gray-100 pb-6">
                        <span id="question-counter" class="bg-gray-100 px-6 py-2 rounded-2xl text-gray-700 shadow-sm">–ü–∏—Ç–∞–Ω–Ω—è 1</span>
                        <div class="flex items-center gap-3">
                            <span class="text-3xl">‚≠ê</span>
                            <span id="score-counter" class="text-emerald-600 font-black text-3xl">0</span>
                        </div>
                    </div>
                    
                    <h3 id="question-text" class="text-2xl md:text-4xl font-black text-[#064e3b] mb-12 min-h-[100px] leading-tight text-center flex items-center justify-center">
                        ...
                    </h3>

                    <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">
                        <!-- Buttons -->
                    </div>

                    <div id="feedback-area" class="hidden-content p-8 rounded-3xl border-l-[10px] mb-10 transition-all bg-gray-50 shadow-inner transform scale-95">
                        <div class="flex items-start gap-5">
                            <div id="feedback-icon" class="text-5xl shrink-0"></div>
                            <div>
                                <h4 id="feedback-title" class="font-black text-2xl mb-3"></h4>
                                <p id="feedback-text" class="text-lg text-gray-800 font-medium leading-relaxed"></p>
                            </div>
                        </div>
                    </div>

                    <div class="text-right h-24">
                        <button id="next-btn" onclick="nextQuestion()" class="hidden-content bg-emerald-600 text-white px-14 py-6 rounded-2xl font-black text-2xl hover:bg-emerald-700 transition shadow-xl transform hover:-translate-y-1 hover:scale-105 flex items-center gap-4 ml-auto group">
                            –ù–∞—Å—Ç—É–ø–Ω–µ <span class="group-hover:translate-x-2 transition-transform">üëâ</span>
                        </button>
                    </div>
                </div>

                <!-- Results Area -->
                <div id="quiz-results" class="hidden-content text-center py-10">
                    <div class="text-9xl mb-8 animate-bounce">üèÜ</div>
                    <h3 class="text-5xl md:text-6xl font-black text-[#064e3b] mb-8">–¢–µ—Å—Ç –ó–∞–≤–µ—Ä—à–µ–Ω–æ!</h3>
                    
                    <div class="bg-emerald-50 inline-block px-16 py-10 rounded-[3rem] border-4 border-emerald-100 mb-12 shadow-md">
                        <p class="text-2xl mb-4 text-gray-500 font-bold uppercase tracking-widest">–¢–≤—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</p>
                        <p class="text-8xl font-black text-emerald-600 tracking-tighter">
                            <span id="final-score">0</span><span class="text-4xl text-emerald-300">/40</span>
                        </p>
                    </div>
                    
                    <p id="result-message" class="text-3xl text-gray-700 mb-14 font-bold max-w-3xl mx-auto leading-relaxed"></p>
                    
                    <button onclick="startQuiz()" class="btn-primary px-16 py-7 rounded-full font-black shadow-2xl text-2xl hover:scale-105 transform transition border-b-4 border-emerald-800 active:border-b-0 active:translate-y-1">
                        –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ —Ä–∞–∑ üîÑ
                    </button>
                </div>
            </div>
        </section>

        <!-- MAILBOX -->
        <section id="mailbox" class="max-w-3xl mx-auto mt-32 mb-20">
            <div class="bg-gradient-to-br from-indigo-600 to-purple-700 p-12 md:p-16 rounded-[3rem] shadow-2xl text-center relative text-white overflow-hidden border-4 border-white/20">
                <div class="absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-20 -mt-20 blur-2xl"></div>
                
                <div class="relative z-10">
                    <div class="text-7xl mb-6">üì¨</div>
                    <h3 class="text-4xl md:text-5xl font-black mb-6 fun-font">–°–∫—Ä–∏–Ω—å–∫–∞ –ë–∞–∂–∞–Ω—å</h3>
                    <p class="text-indigo-100 mb-10 font-bold text-xl leading-relaxed max-w-xl mx-auto">
                        –ù–µ –∑–Ω–∞–π—à–ª–∞ —Å–≤–æ—é —É–ª—é–±–ª–µ–Ω—É —Ç–≤–∞—Ä–∏–Ω—É? <br>
                        –ù–∞–ø–∏—à–∏ —ó—ó –Ω–∞–∑–≤—É —Ç—É—Ç, —ñ —Ç–∞—Ç–æ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –¥–æ–¥–∞—Å—Ç—å —ó—ó!
                    </p>
                    
                    <div class="flex flex-col sm:flex-row gap-4 justify-center items-stretch">
                        <input type="text" id="animal-request-input" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –ê—Ä—Ö–µ–ª–æ–Ω..." 
                               class="flex-grow px-8 py-5 rounded-2xl border-4 border-transparent focus:border-indigo-300 focus:outline-none text-xl shadow-lg text-gray-900 placeholder-gray-400 font-bold">
                        <button onclick="sendRequest()" class="bg-yellow-400 hover:bg-yellow-300 text-indigo-900 px-10 py-5 rounded-2xl font-black shadow-xl transition transform hover:scale-105 active:scale-95 text-xl whitespace-nowrap border-b-4 border-yellow-600 active:border-b-0">
                            –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ üì®
                        </button>
                    </div>
                    <p id="request-sent-msg" class="hidden-content text-green-300 font-black mt-8 text-xl bg-white/10 p-4 rounded-2xl border border-white/20 inline-block animate-pulse">
                        ‚úÖ –õ–∏—Å—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ!
                    </p>
                </div>
            </div>
        </section>

    </main>

    <!-- ==================== DETAIL MODAL ==================== -->
    <div id="detail-modal" class="fixed inset-0 z-[100] hidden modal-overlay flex items-center justify-center p-4 opacity-0 transition-opacity duration-300" onclick="closeModal(event)">
        <div class="bg-white rounded-[2.5rem] w-full max-w-5xl max-h-[95vh] overflow-y-auto shadow-2xl modal-content relative border-4 border-white" onclick="event.stopPropagation()">
            
            <button onclick="closeModal()" class="absolute top-5 right-5 bg-gray-100 hover:bg-red-100 text-gray-500 hover:text-red-500 rounded-full w-12 h-12 flex items-center justify-center font-black text-2xl transition z-20 shadow-sm">‚úï</button>
            
            <div class="flex flex-col md:flex-row">
                <!-- Image -->
                <div class="w-full md:w-1/2 h-80 md:h-auto relative bg-gray-100">
                    <img id="modal-img" src="" alt="Animal" class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-60"></div>
                    <div id="modal-period" class="absolute bottom-6 left-6 bg-white/90 text-emerald-900 px-4 py-2 rounded-xl text-sm font-black backdrop-blur-md shadow-lg"></div>
                </div>
                
                <!-- Info -->
                <div class="w-full md:w-1/2 p-8 md:p-12 flex flex-col bg-white">
                    <div class="flex items-center gap-4 mb-4">
                        <span id="modal-icon" class="text-5xl bg-emerald-50 p-3 rounded-2xl"></span>
                        <h2 id="modal-title" class="text-4xl md:text-5xl font-black text-[#064e3b] fun-font leading-none"></h2>
                    </div>
                    
                    <div class="flex flex-wrap gap-2 mb-8">
                        <span id="modal-weight" class="bg-blue-50 text-blue-700 px-4 py-2 rounded-xl text-sm font-bold border border-blue-100"></span>
                        <span id="modal-diet" class="bg-green-50 text-green-700 px-4 py-2 rounded-xl text-sm font-bold border border-green-100"></span>
                        <span id="modal-type" class="bg-purple-50 text-purple-700 px-4 py-2 rounded-xl text-sm font-bold border border-purple-100"></span>
                    </div>

                    <div class="bg-yellow-50 border-l-8 border-yellow-400 p-6 mb-8 rounded-r-2xl shadow-sm">
                        <h4 class="font-black text-yellow-800 text-xs uppercase tracking-widest mb-2">–¢–∏ –∑–Ω–∞–≤?</h4>
                        <p id="modal-fact" class="text-yellow-900 font-bold italic text-xl leading-relaxed"></p>
                    </div>

                    <div class="prose prose-lg prose-emerald">
                        <p id="modal-desc" class="text-gray-700 leading-relaxed font-medium"></p>
                    </div>

                    <div class="mt-auto pt-10">
                        <button onclick="closeModal()" class="w-full bg-gray-100 hover:bg-emerald-100 text-gray-700 hover:text-emerald-700 font-black py-4 rounded-2xl transition text-lg">–ó—Ä–æ–∑—É–º—ñ–ª–æ, –¥—è–∫—É—é!</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ==================== JAVASCRIPT LOGIC ==================== -->
    <script>
        // --- 1. DATABASE (40 ANIMALS) ---
        const animals = [
            // --- DINOSAURS ---
            { 
                id: 1, name: "–¢–∏—Ä–∞–Ω–æ–∑–∞–≤—Ä –†–µ–∫—Å", category: "dino", type: "–†–µ–ø—Ç–∏–ª—ñ—è", 
                period: "66 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -66000000, weight: 8000, diet: "–•–∏–∂–∞–∫ ü•©", 
                funFact: "–£–∫—É—Å –¢-–†–µ–∫—Å–∞ –±—É–≤ –Ω–∞—Å—Ç—ñ–ª—å–∫–∏ —Å–∏–ª—å–Ω–∏–º (6 —Ç–æ–Ω–Ω!), —â–æ –≤—ñ–Ω –º—ñ–≥ –¥—Ä–æ–±–∏—Ç–∏ –∫—ñ—Å—Ç–∫–∏, —è–∫ —Å—É—Ö–∞—Ä–∏–∫–∏.", 
                desc: "–°–ø—Ä–∞–≤–∂–Ω—ñ–π –∫–æ—Ä–æ–ª—å —Å—Ç–∞—Ä–æ–¥–∞–≤–Ω—å–æ–≥–æ —Å–≤—ñ—Ç—É! –¢-–†–µ–∫—Å –±—É–≤ –æ–¥–Ω–∏–º –∑ –Ω–∞–π–±—ñ–ª—å—à–∏—Ö —Ö–∏–∂–∞–∫—ñ–≤. –í—ñ–Ω –º–∞–≤ –≤–µ–ª–∏—á–µ–∑–Ω—É –≥–æ–ª–æ–≤—É –∑ –∑—É–±–∞–º–∏ —Ä–æ–∑–º—ñ—Ä–æ–º –∑ –±–∞–Ω–∞–Ω (–¥–æ 30 —Å–º!). –ô–æ–≥–æ –∫—Ä–∏—Ö—ñ—Ç–Ω—ñ –ø–µ—Ä–µ–¥–Ω—ñ –ª–∞–ø–∏ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –±—É–ª–∏ –¥—É–∂–µ –º'—è–∑–∏—Å—Ç–∏–º–∏ —ñ –º–æ–≥–ª–∏ –ø—ñ–¥–Ω—è—Ç–∏ –¥–æ 200 –∫–≥. –ú–∞–≤ —á—É–¥–æ–≤–∏–π –Ω—é—Ö.", 
                coords: [40, -100], image: "trex.jpg", icon: "ü¶ñ" 
            },
            { id: 2, name: "–¢—Ä–∏—Ü–µ—Ä–∞—Ç–æ–ø—Å", category: "dino", type: "–†–µ–ø—Ç–∏–ª—ñ—è", period: "66 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -66000000, weight: 9000, diet: "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–π üåø", funFact: "–ü—Ä–æ—Ç—è–≥–æ–º –∂–∏—Ç—Ç—è —É –Ω—å–æ–≥–æ –º–æ–≥–ª–æ –∑–º—ñ–Ω–∏—Ç–∏—Å—è –¥–æ 800 –∑—É–±—ñ–≤! –ö–æ–ª–∏ –æ–¥–∏–Ω –≤–∏–ø–∞–¥–∞–≤, –Ω–∞ –π–æ–≥–æ –º—ñ—Å—Ü—ñ –≤–∏—Ä–æ—Å—Ç–∞–≤ –Ω–æ–≤–∏–π.", desc: "–°—Ö–æ–∂–∏–π –Ω–∞ –≤–µ–ª–µ—Ç–µ–Ω—Å—å–∫–æ–≥–æ –Ω–æ—Å–æ—Ä–æ–≥–∞, –¢—Ä–∏—Ü–µ—Ä–∞—Ç–æ–ø—Å –±—É–≤ —Å–ø—Ä–∞–≤–∂–Ω—ñ–º —Ç–∞–Ω–∫–æ–º. –í—ñ–Ω –º–∞–≤ —Ç—Ä–∏ —Ä–æ–≥–∏ —Ç–∞ –≤–µ–ª–∏—á–µ–∑–Ω–∏–π –∫—ñ—Å—Ç—è–Ω–∏–π –∫–æ–º—ñ—Ä –Ω–∞ —à–∏—ó. –í—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤ —ó—Ö –Ω–µ —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∫—Ä–∞—Å–∏, –∞ –π –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ –¢-–†–µ–∫—Å–∞. –í–æ–Ω–∏ –∂–∏–ª–∏ –≤–µ–ª–∏–∫–∏–º–∏ —Å—Ç–∞–¥–∞–º–∏.", coords: [45, -105], image: "triceratops.webp", icon: "ü¶ï" },
            { id: 3, name: "–°—Ç–µ–≥–æ–∑–∞–≤—Ä", category: "dino", type: "–†–µ–ø—Ç–∏–ª—ñ—è", period: "150 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -150000000, weight: 3000, diet: "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–π üåø", funFact: "–ô–æ–≥–æ –º–æ–∑–æ–∫ –±—É–≤ —Ä–æ–∑–º—ñ—Ä–æ–º –≤—Å—å–æ–≥–æ –ª–∏—à–µ –∑ –≤–æ–ª–æ—Å—å–∫–∏–π –≥–æ—Ä—ñ—Ö (80 –≥—Ä–∞–º), —Ö–æ—á–∞ —Å–∞–º –≤—ñ–Ω –≤–∞–∂–∏–≤ —è–∫ –¥–∂–∏–ø.", desc: "–¶—å–æ–≥–æ –¥–∏–Ω–æ–∑–∞–≤—Ä–∞ –ª–µ–≥–∫–æ –≤–ø—ñ–∑–Ω–∞—Ç–∏ –∑–∞ –≤–µ–ª–∏–∫–∏–º–∏ –ø–ª–∞—Å—Ç–∏–Ω–∞–º–∏ –Ω–∞ —Å–ø–∏–Ω—ñ. –í—á–µ–Ω—ñ –¥—É–º–∞—é—Ç—å, —â–æ –≤–æ–Ω–∏ –¥–æ–ø–æ–º–∞–≥–∞–ª–∏ –π–æ–º—É —Ä–µ–≥—É–ª—é–≤–∞—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –∞–±–æ –ª—è–∫–∞—Ç–∏ –≤–æ—Ä–æ–≥—ñ–≤. –ù–∞ —Ö–≤–æ—Å—Ç—ñ —É –Ω—å–æ–≥–æ –±—É–ª–∞ –≥—Ä—ñ–∑–Ω–∞ –∑–±—Ä–æ—è ‚Äî '—Ç–∞–≥–æ–º–∞–π–∑–µ—Ä' –∑ —á–æ—Ç–∏—Ä–º–∞ —à–∏–ø–∞–º–∏.", coords: [39, -108], image: "stego.jpeg", icon: "ü¶é" },
            { id: 4, name: "–ü—Ç–µ—Ä–∞–Ω–æ–¥–æ–Ω", category: "dino", type: "–†–µ–ø—Ç–∏–ª—ñ—è", period: "85 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -85000000, weight: 50, diet: "–†–∏–±–∞ üêü", funFact: "–£ –Ω—å–æ–≥–æ –Ω–µ –±—É–ª–æ –∑—É–±—ñ–≤, –≤—ñ–Ω –∫–æ–≤—Ç–∞–≤ —Ä–∏–±—É —Ü—ñ–ª–æ—é, —è–∫ –ø–µ–ª—ñ–∫–∞–Ω.", desc: "–¶–µ –Ω–µ –¥–∏–Ω–æ–∑–∞–≤—Ä, –∞ –ª—ñ—Ç–∞—é—á–∏–π —è—â—É—Ä (–ø—Ç–µ—Ä–æ–∑–∞–≤—Ä)! –†–æ–∑–º–∞—Ö –π–æ–≥–æ –∫—Ä–∏–ª —Å—è–≥–∞–≤ 7 –º–µ—Ç—Ä—ñ–≤ ‚Äî —è–∫ –Ω–µ–≤–µ–ª–∏–∫–∏–π –ª—ñ—Ç–∞–∫. –í—ñ–Ω –∂–∏–≤ –±—ñ–ª—è –º–æ—Ä—è —ñ –≤–∏—Ö–æ–ø–ª—é–≤–∞–≤ –∑ –≤–æ–¥–∏ —Ä–∏–±—É —Å–≤–æ—ó–º –¥–æ–≤–≥–∏–º –¥–∑—å–æ–±–æ–º. –ù–∞ –≥–æ–ª–æ–≤—ñ –º–∞–≤ –≤–µ–ª–∏–∫–∏–π –≥—Ä–µ–±—ñ–Ω—å –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø–æ–ª—å–æ—Ç–æ–º.", coords: [38, -98], image: "pteradon.webp", icon: "ü¶á" },
            { id: 5, name: "–ü–∞—Ä–∞–∑–∞—É—Ä–æ–ª–æ—Ñ", category: "dino", type: "–†–µ–ø—Ç–∏–ª—ñ—è", period: "75 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -75000000, weight: 2500, diet: "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–π üåø", funFact: "–í—á–µ–Ω—ñ –∑–º–æ–¥–µ–ª—é–≤–∞–ª–∏ –∑–≤—É–∫ –π–æ–≥–æ –≥—Ä–µ–±–µ–Ω—è ‚Äî —Ü–µ —Å—Ö–æ–∂–µ –Ω–∞ –≥—É—á–Ω–∏–π —Ç—Ä–æ–º–±–æ–Ω.", desc: "–î–∏–Ω–æ–∑–∞–≤—Ä –∑ '—Ç—Ä—É–±–æ—é' –Ω–∞ –≥–æ–ª–æ–≤—ñ. –¶–µ –±—É–≤ –ø–æ—Ä–æ–∂–Ω–∏—Å—Ç–∏–π –≥—Ä–µ–±—ñ–Ω—å, –∑'—î–¥–Ω–∞–Ω–∏–π –∑ –Ω–æ—Å–æ–º. –ü—Ä–æ–¥—É–≤–∞—é—á–∏ —á–µ—Ä–µ–∑ –Ω—å–æ–≥–æ –ø–æ–≤—ñ—Ç—Ä—è, –≤—ñ–Ω –º—ñ–≥ –≤–∏–¥–∞–≤–∞—Ç–∏ –¥—É–∂–µ –≥—É—á–Ω—ñ –∑–≤—É–∫–∏, —â–æ–± —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è –∑ –¥—Ä—É–∑—è–º–∏.", coords: [50, -110], image: "dino.jpg", icon: "üé∑" },
            { id: 6, name: "–¢–∏—Ç–∞–Ω–æ–±–æ–∞", category: "reptile", type: "–†–µ–ø—Ç–∏–ª—ñ—è", period: "60 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -60000000, weight: 1135, diet: "–•–∏–∂–∞–∫ ü•©", funFact: "–í–æ–Ω–∞ –±—É–ª–∞ –Ω–∞—Å—Ç—ñ–ª—å–∫–∏ —Ç–æ–≤—Å—Ç–æ—é, —â–æ –≤ –Ω–∞–π—à–∏—Ä—à–æ–º—É –º—ñ—Å—Ü—ñ —Å—è–≥–∞–ª–∞ –ø–æ—è—Å–∞ –¥–æ—Ä–æ—Å–ª–æ—ó –ª—é–¥–∏–Ω–∏.", desc: "–ù–∞–π–±—ñ–ª—å—à–∞ –∑–º—ñ—è –≤ —ñ—Å—Ç–æ—Ä—ñ—ó! –ñ–∏–ª–∞ –≤ –¥–∂—É–Ω–≥–ª—è—Ö –ø—ñ—Å–ª—è –¥–∏–Ω–æ–∑–∞–≤—Ä—ñ–≤. –î–æ–≤–∂–∏–Ω–æ—é —è–∫ –∞–≤—Ç–æ–±—É—Å (13 –º–µ—Ç—Ä—ñ–≤). –í–æ–Ω–∞ –Ω–µ –±—É–ª–∞ –æ—Ç—Ä—É–π–Ω–æ—é, –∞ –¥—É—à–∏–ª–∞ —Å–≤–æ—é –∑–¥–æ–±–∏—á –≤–µ–ª–∏—á–µ–∑–Ω–æ—é –º–∞—Å–æ—é.", coords: [4, -73], image: "Titanoboa.webp", icon: "üêç" },
            { id: 32, name: "–ú–µ–≥–∞–ª–∞–Ω—ñ—è", category: "reptile", type: "–†–µ–ø—Ç–∏–ª—ñ—è", period: "40 —Ç–∏—Å. —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -40000, weight: 2000, diet: "–•–∏–∂–∞–∫ ü•©", funFact: "–¶–µ –Ω–∞–π–±—ñ–ª—å—à–∞ —è—â—ñ—Ä–∫–∞ –≤ —ñ—Å—Ç–æ—Ä—ñ—ó ‚Äî –¥–æ 7 –º–µ—Ç—Ä—ñ–≤ —É –¥–æ–≤–∂–∏–Ω—É.", desc: "–°–ø—Ä–∞–≤–∂–Ω—ñ–π –¥—Ä–∞–∫–æ–Ω –ê–≤—Å—Ç—Ä–∞–ª—ñ—ó! –ì—ñ–≥–∞–Ω—Ç—Å—å–∫–∏–π –≤–∞—Ä–∞–Ω, –±—ñ–ª—å—à–∏–π –∑–∞ –∫–æ–º–æ–¥—Å—å–∫–æ–≥–æ –¥—Ä–∞–∫–æ–Ω–∞. –ú–∞–ª–∞ –æ—Ç—Ä—É–π–Ω—É —Å–ª–∏–Ω—É. –ü–æ–ª—é–≤–∞–ª–∞ –Ω–∞ –≥—ñ–≥–∞–Ω—Ç—Å—å–∫–∏—Ö –∫–µ–Ω–≥—É—Ä—É.", coords: [-20, 130], image: "megalania.jpg", icon: "ü¶é" },
            { id: 35, name: "–î—ñ–º–µ—Ç—Ä–æ–¥–æ–Ω", category: "reptile", type: "–†–µ–ø—Ç–∏–ª—ñ—è", period: "295 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -295000000, weight: 250, diet: "–•–∏–∂–∞–∫ ü•©", funFact: "–•–æ—á–∞ –≤—ñ–Ω –≤–∏–≥–ª—è–¥–∞—î —è–∫ –¥–∏–Ω–æ–∑–∞–≤—Ä, –≤—ñ–Ω –±–ª–∏–∂—á–∏–π —Ä–æ–¥–∏—á —Å—Å–∞–≤—Ü—ñ–≤, –Ω—ñ–∂ —è—â—ñ—Ä–æ–∫!", desc: "–ñ–∏–≤ –∑–∞–¥–æ–≤–≥–æ –¥–æ –¥–∏–Ω–æ–∑–∞–≤—Ä—ñ–≤. –ú–∞–≤ –≤–µ–ª–∏—á–µ–∑–Ω–µ '–≤—ñ—Ç—Ä–∏–ª–æ' –Ω–∞ —Å–ø–∏–Ω—ñ, —â–æ–± –≥—Ä—ñ—Ç–∏—Å—è –Ω–∞ —Å–æ–Ω—Ü—ñ. –ë—É–≤ –≥–æ–ª–æ–≤–Ω–∏–º —Ö–∏–∂–∞–∫–æ–º —Å–≤–æ–≥–æ —á–∞—Å—É.", coords: [33, -99], image: "dimetrodon.jpg", icon: "üê≤" },
            { id: 37, name: "–°–ø—ñ–Ω–æ–∑–∞–≤—Ä", category: "dino", type: "–†–µ–ø—Ç–∏–ª—ñ—è", period: "95 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -95000000, weight: 7500, diet: "–•–∏–∂–∞–∫ (–†–∏–±–∞) üêü", funFact: "–Ñ–¥–∏–Ω–∏–π –≤—ñ–¥–æ–º–∏–π –¥–∏–Ω–æ–∑–∞–≤—Ä, —è–∫–∏–π –≤–º—ñ–≤ –ø–ª–∞–≤–∞—Ç–∏ —ñ –∂–∏–≤ —É –≤–æ–¥—ñ.", desc: "–°–ø—ñ–Ω–æ–∑–∞–≤—Ä –±—É–≤ –Ω–∞–≤—ñ—Ç—å –±—ñ–ª—å—à–∏–º –∑–∞ –¢-–†–µ–∫—Å–∞! –ù–∞ —Å–ø–∏–Ω—ñ –º–∞–≤ –≤–µ–ª–∏—á–µ–∑–Ω–∏–π –ø–∞—Ä—É—Å, –∞ –º–æ—Ä–¥–∞ –±—É–ª–∞ —Å—Ö–æ–∂–∞ –Ω–∞ –∫—Ä–æ–∫–æ–¥–∏–ª—è—á—É.", coords: [26, 30], image: "spinosaurus.jpg", icon: "üêä" },
            { id: 38, name: "–ê–Ω–∫—ñ–ª–æ–∑–∞–≤—Ä", category: "dino", type: "–†–µ–ø—Ç–∏–ª—ñ—è", period: "66 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -66000000, weight: 6000, diet: "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–π üåø", funFact: "–ô–æ–≥–æ –ø–æ–≤—ñ–∫–∏ —Ç–µ–∂ –±—É–ª–∏ –∑—Ä–æ–±–ª–µ–Ω—ñ –∑ –∫—ñ—Å—Ç–æ–∫, —â–æ–± –∑–∞—Ö–∏—â–∞—Ç–∏ –æ—á—ñ.", desc: "–ñ–∏–≤–∏–π —Ç–∞–Ω–∫. –í—Å–µ —Ç—ñ–ª–æ –≤–∫—Ä–∏—Ç–µ –±—Ä–æ–Ω–µ—é, –∞ –Ω–∞ —Ö–≤–æ—Å—Ç—ñ ‚Äî –≤–∞–∂–∫–∞ –∫—ñ—Å—Ç—è–Ω–∞ –±—É–ª–∞–≤–∞, —è–∫–æ—é –≤—ñ–Ω –º—ñ–≥ –∑–ª–∞–º–∞—Ç–∏ –Ω–æ–≥—É –¢-–†–µ–∫—Å—É.", coords: [50, -100], image: "ankylosaurus.jpg", icon: "üõ°Ô∏è" },

            // --- WATER ---
            { id: 7, name: "–ú–µ–≥–∞–ª–æ–¥–æ–Ω", category: "water", type: "–†–∏–±–∞", period: "3 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -3000000, weight: 50000, diet: "–•–∏–∂–∞–∫ üêü", funFact: "–ô–æ–≥–æ –∑—É–± –±—É–≤ —Ä–æ–∑–º—ñ—Ä–æ–º –∑ –¥–æ–ª–æ–Ω—é –¥–æ—Ä–æ—Å–ª–æ—ó –ª—é–¥–∏–Ω–∏.", desc: "–ö–æ—Ä–æ–ª—å –æ–∫–µ–∞–Ω—ñ–≤. –ê–∫—É–ª–∞ —Ä–æ–∑–º—ñ—Ä–æ–º –∑ –≤–∞–≥–æ–Ω –ø–æ—ó–∑–¥–∞ (18 –º–µ—Ç—Ä—ñ–≤). –°–∏–ª–∞ —É–∫—É—Å—É –≤ 10 —Ä–∞–∑—ñ–≤ —Å–∏–ª—å–Ω—ñ—à–∞ –∑–∞ –±—ñ–ª—É –∞–∫—É–ª—É. –ü–æ–ª—é–≤–∞–≤ –Ω–∞ –∫–∏—Ç—ñ–≤.", coords: [20, -150], image: "megalodon.jpg", icon: "ü¶à" },
            { id: 15, name: "–°—Ç–µ–ª–ª–µ—Ä–æ–≤–∞ –ö–æ—Ä–æ–≤–∞", category: "water", type: "–°—Å–∞–≤–µ—Ü—å", period: "1768 —Ä—ñ–∫", sortDate: 1768, weight: 10000, diet: "–í–æ–¥–æ—Ä–æ—Å—Ç—ñ üåø", funFact: "–£ –Ω–µ—ó –Ω–µ –±—É–ª–æ –∑—É–±—ñ–≤, –≤–æ–Ω–∞ –ø–µ—Ä–µ—Ç–∏—Ä–∞–ª–∞ —ó–∂—É –ø–ª–∞—Å—Ç–∏–Ω–∞–º–∏.", desc: "–ú–æ—Ä—Å—å–∫–∞ –≤–µ–ª–µ—Ç–∫–∞, —Ä–æ–¥–∏—á–∫–∞ –ª–∞–º–∞–Ω—Ç–∏–Ω—ñ–≤. –ñ–∏–ª–∞ –≤ —Ö–æ–ª–æ–¥–Ω–∏—Ö –≤–æ–¥–∞—Ö, –±—É–ª–∞ –¥—É–∂–µ –ø–æ–≤—ñ–ª—å–Ω–æ—é —ñ –¥–æ–≤—ñ—Ä–ª–∏–≤–æ—é. –õ—é–¥–∏ –≤–∏–Ω–∏—â–∏–ª–∏ —ó—ó –≤—Å—å–æ–≥–æ –∑–∞ 27 —Ä–æ–∫—ñ–≤.", coords: [55, 166], image: "stelle_cow.png", icon: "üêÑ" },
            { id: 19, name: "–ë–∞–π—Ü–∑—ñ", category: "water", type: "–°—Å–∞–≤–µ—Ü—å", period: "2006 —Ä—ñ–∫", sortDate: 2006, weight: 150, diet: "–†–∏–±–∞ üêü", funFact: "–ô–æ–≥–æ –Ω–∞–∑–∏–≤–∞–ª–∏ '–ë–æ–≥–∏–Ω–µ—é —Ä—ñ—á–∫–∏ –Ø–Ω—Ü–∑–∏'.", desc: "–£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —Ä—ñ—á–∫–æ–≤–∏–π –¥–µ–ª—å—Ñ—ñ–Ω –∑ –ö–∏—Ç–∞—é. –ú–∞–≤ –¥–æ–≤–≥–∏–π –¥–∑—å–æ–± —ñ –±—É–≤ –º–∞–π–∂–µ —Å–ª—ñ–ø–∏–º, –æ—Ä—ñ—î–Ω—Ç—É—é—á–∏—Å—å –µ—Ö–æ–ª–æ–∫–∞—Ü—ñ—î—é. –í–∏–º–µ—Ä —á–µ—Ä–µ–∑ –∑–∞–±—Ä—É–¥–Ω–µ–Ω–Ω—è.", coords: [30, 115], image: "dolphin.webp", icon: "üê¨" },
            { id: 36, name: "–î—É–Ω–∫–ª–µ–æ—Å—Ç–µ–π", category: "water", type: "–†–∏–±–∞", period: "360 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -360000000, weight: 4000, diet: "–•–∏–∂–∞–∫ üêü", funFact: "–ó–∞–º—ñ—Å—Ç—å –∑—É–±—ñ–≤ –º–∞–≤ –≥–æ—Å—Ç—Ä—ñ –∫—ñ—Å—Ç–∫–æ–≤—ñ –ø–ª–∞—Å—Ç–∏–Ω–∏-–ª–µ–∑–∞.", desc: "–ì—ñ–≥–∞–Ω—Ç—Å—å–∫–∞ –ø–∞–Ω—Ü–∏—Ä–Ω–∞ —Ä–∏–±–∞ (6 –º–µ—Ç—Ä—ñ–≤). –ì–æ–ª–æ–≤–∞ –±—É–ª–∞ –≤–∫—Ä–∏—Ç–∞ –∫—ñ—Å—Ç—è–Ω–æ—é –±—Ä–æ–Ω–µ—é. –í—ñ–¥–∫—Ä–∏–≤–∞–≤ –ø–∞—â—É –º–∏—Ç—Ç—î–≤–æ, –∑–∞—Å–º–æ–∫—Ç—É—é—á–∏ –∂–µ—Ä—Ç–≤—É.", coords: [41, -81], image: "dunkleosteus.jpg", icon: "üêü" },
            { id: 39, name: "–ë–∞–∑–∏–ª–æ–∑–∞–≤—Ä", category: "water", type: "–°—Å–∞–≤–µ—Ü—å", period: "40 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -40000000, weight: 15000, diet: "–•–∏–∂–∞–∫ ü•©", funFact: "–ô–æ–≥–æ –Ω–∞–∑–≤–∞ –æ–∑–Ω–∞—á–∞—î '–¶–∞—Ä-—è—â—ñ—Ä', –∞–ª–µ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ —Ü–µ –∫–∏—Ç.", desc: "–°—Ç–∞—Ä–æ–¥–∞–≤–Ω—ñ–π —Ö–∏–∂–∏–π –∫–∏—Ç –∑–º—ñ—î–ø–æ–¥—ñ–±–Ω–æ—ó —Ñ–æ—Ä–º–∏. –î–æ—Å—è–≥–∞–≤ 18 –º–µ—Ç—Ä—ñ–≤ —É –¥–æ–≤–∂–∏–Ω—É. –ü–æ–ª—é–≤–∞–≤ –Ω–∞ –º–µ–Ω—à–∏—Ö –∫–∏—Ç—ñ–≤.", coords: [30, 31], image: "basilosaurus.jpg", icon: "üêã" },
            { id: 40, name: "–ú–æ–∑–∞–∑–∞–≤—Ä", category: "water", type: "–†–µ–ø—Ç–∏–ª—ñ—è", period: "66 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -66000000, weight: 14000, diet: "–•–∏–∂–∞–∫ ü•©", funFact: "–ú–∞–≤ –¥—Ä—É–≥–∏–π —Ä—è–¥ –∑—É–±—ñ–≤ –Ω–∞ –ø—ñ–¥–Ω–µ–±—ñ–Ω–Ω—ñ, —â–æ–± –∑–¥–æ–±–∏—á –Ω–µ –≤–∏—Ä–≤–∞–ª–∞—Å—è.", desc: "–í–µ–ª–∏—á–µ–∑–Ω–∞ –º–æ—Ä—Å—å–∫–∞ —è—â—ñ—Ä–∫–∞. –ñ–∏–≤–∏–≤—Å—è –∞–∫—É–ª–∞–º–∏, –ø–ª–µ–∑—ñ–æ–∑–∞–≤—Ä–∞–º–∏ —ñ –≤—Å—ñ–º, —â–æ —Ä—É—Ö–∞—î—Ç—å—Å—è. –ó—ñ—Ä–∫–∞ —Ñ—ñ–ª—å–º—É '–°–≤—ñ—Ç –Æ—Ä—Å—å–∫–æ–≥–æ –ø–µ—Ä—ñ–æ–¥—É'.", coords: [50, -30], image: "mosasaurus.jpg", icon: "üêä" },

            // --- BIRDS ---
            { id: 8, name: "–ê—Ä—Ö–µ–æ–ø—Ç–µ—Ä–∏–∫—Å", category: "bird", type: "–ü—Ç–∞—Ö/–î–∏–Ω–æ", period: "150 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -150000000, weight: 1, diet: "–ö–æ–º–∞—Ö–∏ üêõ", funFact: "–ú–∞–≤ –∫—ñ–≥—Ç—ñ –Ω–∞ –∫—Ä–∏–ª–∞—Ö, —â–æ–± –ª–∞–∑–∏—Ç–∏ –ø–æ –¥–µ—Ä–µ–≤–∞—Ö.", desc: "–ü–µ—Ä–µ—Ö—ñ–¥–Ω–∞ –ª–∞–Ω–∫–∞ –º—ñ–∂ –¥–∏–Ω–æ–∑–∞–≤—Ä–∞–º–∏ —Ç–∞ –ø—Ç–∞—Ö–∞–º–∏. –ú–∞–≤ –ø—ñ—Ä'—è —ñ –∫—Ä–∏–ª–∞, –∞–ª–µ –∑—É–±–∞—Å—Ç—É –ø–∞—â—É —ñ —Ö–≤—ñ—Å—Ç —Ä–µ–ø—Ç–∏–ª—ñ—ó.", coords: [48, 11], image: "archaeopteryx.webp", icon: "ü¶Ö" },
            { id: 14, name: "–ü—Ç–∞—Ö –î–æ–¥–æ", category: "bird", type: "–ü—Ç–∞—Ö", period: "1681 —Ä—ñ–∫", sortDate: 1681, weight: 20, diet: "–§—Ä—É–∫—Ç–∏ üçé", funFact: "–ñ–∏–≤ –Ω–∞ –æ—Å—Ç—Ä–æ–≤—ñ –±–µ–∑ —Ö–∏–∂–∞–∫—ñ–≤, —Ç–æ–º—É –Ω–µ –≤–º—ñ–≤ –ª—ñ—Ç–∞—Ç–∏ —ñ –Ω–µ –±–æ—è–≤—Å—è.", desc: "–°–∏–º–≤–æ–ª –≤–∏–º–∏—Ä–∞–Ω–Ω—è. –ñ–∏–≤ –Ω–∞ –ú–∞–≤—Ä–∏–∫—ñ—ó. –ë—É–≤ –¥–æ–≤—ñ—Ä–ª–∏–≤–∏–º —ñ —Å—Ç–∞–≤ –ª–µ–≥–∫–æ—é –∑–¥–æ–±–∏—á—á—é –¥–ª—è –ª—é–¥–µ–π.", coords: [-20.3, 57.5], image: "dodo.webp", icon: "ü¶§" },
            { id: 18, name: "–ü—Ç–∞—Ö –ú–æ–∞", category: "bird", type: "–ü—Ç–∞—Ö", period: "1445 —Ä—ñ–∫", sortDate: 1445, weight: 250, diet: "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–π üåø", funFact: "–£ –Ω—å–æ–≥–æ –ø–æ–≤–Ω—ñ—Å—Ç—é –±—É–ª–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ –∫—Ä–∏–ª–∞, –Ω–∞–≤—ñ—Ç—å –∫—ñ—Å—Ç–∫–∏.", desc: "–ì—ñ–≥–∞–Ω—Ç –∑ –ù–æ–≤–æ—ó –ó–µ–ª–∞–Ω–¥—ñ—ó, –≤–∏—â–∏–π –∑–∞ —Å—Ç—Ä–∞—É—Å–∞. –ë—É–≤ –≥–æ–ª–æ–≤–Ω–æ—é –∑–¥–æ–±–∏—á—á—é –æ—Ä–ª–∞ –•–∞–∞—Å—Ç–∞.", coords: [-42, 172], image: "moa.jpeg", icon: "üê¶" },
            { id: 20, name: "–ú–∞–Ω–¥—Ä—ñ–≤–Ω–∏–π –ì–æ–ª—É–±", category: "bird", type: "–ü—Ç–∞—Ö", period: "1914 —Ä—ñ–∫", sortDate: 1914, weight: 0.3, diet: "–ù–∞—Å—ñ–Ω–Ω—è üå∞", funFact: "–á—Ö–Ω—ñ –∑–≥—Ä–∞—ó –∑–∞–∫—Ä–∏–≤–∞–ª–∏ —Å–æ–Ω—Ü–µ –Ω–∞ –∫—ñ–ª—å–∫–∞ –≥–æ–¥–∏–Ω.", desc: "–ö–æ–ª–∏—Å—å –Ω–∞–π—á–∏—Å–ª–µ–Ω–Ω—ñ—à–∏–π –ø—Ç–∞—Ö –ó–µ–º–ª—ñ. –õ—é–¥–∏ –≤–∏–Ω–∏—â–∏–ª–∏ —ó—Ö –º—ñ–ª—å—è—Ä–¥–∞–º–∏ –∑–∞—Ä–∞–¥–∏ –º'—è—Å–∞.", coords: [40, -85], image: "dove.jpg", icon: "üïäÔ∏è" },
            { id: 24, name: "–ë–µ–∑–∫—Ä–∏–ª–∞ –≥–∞–≥–∞—Ä–∫–∞", category: "bird", type: "–ü—Ç–∞—Ö", period: "1844 —Ä—ñ–∫", sortDate: 1844, weight: 5, diet: "–†–∏–±–∞ üêü", funFact: "–á—ó –Ω–∞–∑–∏–≤–∞–ª–∏ '–ø—ñ–Ω–≥–≤—ñ–Ω–æ–º –ø—ñ–≤–Ω–æ—á—ñ', —Ö–æ—á–∞ —Ü–µ –Ω–µ –ø—ñ–Ω–≥–≤—ñ–Ω.", desc: "–ú–æ—Ä—Å—å–∫–∏–π –ø—Ç–∞—Ö –ê—Ç–ª–∞–Ω—Ç–∏–∫–∏. –ù–µ –ª—ñ—Ç–∞–ª–∞, –∞–ª–µ —á—É–¥–æ–≤–æ –ø–ª–∞–≤–∞–ª–∞. –ó–Ω–∏—â–µ–Ω–∞ –ª—é–¥—å–º–∏.", coords: [64, -20], image: "greatauk.jpg", icon: "üêß" },
            { id: 33, name: "–ï–ø—ñ–æ—Ä–Ω—ñ—Å", category: "bird", type: "–ü—Ç–∞—Ö", period: "1000 —Ä—ñ–∫", sortDate: 1000, weight: 500, diet: "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–π üåø", funFact: "–ô–æ–≥–æ —è–π—Ü–µ –±—É–ª–æ –≤ 160 —Ä–∞–∑—ñ–≤ –±—ñ–ª—å—à–∏–º –∑–∞ –∫—É—Ä—è—á–µ!", desc: "–°–ª–æ–Ω–æ–≤–∏–π –ø—Ç–∞—Ö –∑ –ú–∞–¥–∞–≥–∞—Å–∫–∞—Ä—É. –ù–∞–π–≤–∞–∂—á–∏–π –ø—Ç–∞—Ö –≤ —ñ—Å—Ç–æ—Ä—ñ—ó.", coords: [-20, 47], image: "elephantbird.jpg", icon: "ü•ö" },
            { id: 34, name: "–¢—ñ—Ç–∞–Ω—ñ—Å", category: "bird", type: "–ü—Ç–∞—Ö", period: "2 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -2000000, weight: 150, diet: "–•–∏–∂–∞–∫ ü•©", funFact: "–ù–∞–ª–µ–∂–∞–≤ –¥–æ —Ä–æ–¥–∏–Ω–∏ '–ü—Ç–∞—Ö—ñ–≤ –∂–∞—Ö—É'.", desc: "–•–∏–∂–∏–π –Ω–µ–ª—ñ—Ç–∞—é—á–∏–π –ø—Ç–∞—Ö –∑ –¥–∑—å–æ–±–æ–º-—Å–æ–∫–∏—Ä–æ—é. –®–≤–∏–¥–∫–æ –±—ñ–≥–∞–≤ —ñ –ø–æ–ª—é–≤–∞–≤ –Ω–∞ –∫–æ–Ω–µ–π.", coords: [30, -90], image: "titanis.jpg", icon: "ü¶Ö" },
            
            // --- MAMMALS ---
            { id: 9, name: "–®–µ—Ä—Å—Ç–∏—Å—Ç–∏–π –ú–∞–º–æ–Ω—Ç", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "4 —Ç–∏—Å. —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -4000, weight: 6000, diet: "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–π üåø", funFact: "–û—Å—Ç–∞–Ω–Ω—ñ –º–∞–º–æ–Ω—Ç–∏ –∂–∏–ª–∏, –∫–æ–ª–∏ –≤–∂–µ –±—É–¥—É–≤–∞–ª–∏ –ø—ñ—Ä–∞–º—ñ–¥–∏!", desc: "–°–∏–º–≤–æ–ª –ª—å–æ–¥–æ–≤–∏–∫–æ–≤–æ–≥–æ –ø–µ—Ä—ñ–æ–¥—É. –ú–∞–≤ —Ç–µ–ø–ª—É —à—É–±—É —ñ –≤–µ–ª–∏—á–µ–∑–Ω—ñ –±–∏–≤–Ω—ñ –¥–ª—è —Ä–æ–∑–≥—Ä—ñ–±–∞–Ω–Ω—è —Å–Ω—ñ–≥—É.", coords: [71, 179], image: "mammoth.webp", icon: "üêò" },
            { id: 10, name: "–°–º—ñ–ª–æ–¥–æ–Ω", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "10 —Ç–∏—Å. —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -10000, weight: 400, diet: "–•–∏–∂–∞–∫ ü•©", funFact: "–ú—ñ–≥ –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ –ø–∞—â—É –Ω–∞ 120 –≥—Ä–∞–¥—É—Å—ñ–≤.", desc: "–®–∞–±–ª–µ–∑—É–±–∏–π —Ç–∏–≥—Ä. –ú–∞–≤ —ñ–∫–ª–∞-–∫–∏–Ω–¥–∂–∞–ª–∏ –¥–æ–≤–∂–∏–Ω–æ—é 28 —Å–º. –ù–∞–ø–∞–¥–∞–≤ —ñ–∑ –∑–∞—Å—ñ–¥–∫–∏.", coords: [34, -118], image: "smilodont.webp", icon: "üêÖ" },
            { id: 11, name: "–®–µ—Ä—Å—Ç–∏—Å—Ç–∏–π –ù–æ—Å–æ—Ä—ñ–≥", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "10 —Ç–∏—Å. —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -10000, weight: 2000, diet: "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–π üåø", funFact: "–ú–∞–≤ –ø–ª–∞—Å–∫–∏–π —Ä—ñ–≥ –¥–ª—è –≤—ñ–¥–∫–∏–¥–∞–Ω–Ω—è —Å–Ω—ñ–≥—É.", desc: "–ë—Ä–æ–Ω—å–æ–≤–∞–Ω–∏–π —Ç–∞–Ω–∫ —Å—Ç–µ–ø—ñ–≤. –ú–∞–≤ –¥—É–∂–µ —Ç–æ–≤—Å—Ç—É —à–∫—ñ—Ä—É —Ç–∞ —Ö—É—Ç—Ä–æ.", coords: [55, 80], image: "celodont.jpg", icon: "ü¶è" },
            { id: 12, name: "–ú–µ–≥–∞—Ç–µ—Ä—ñ–π", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "10 —Ç–∏—Å. —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -10000, weight: 4000, diet: "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–π üåø", funFact: "–•–æ–¥–∏–≤, —Å–ø–∏—Ä–∞—é—á–∏—Å—å –Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—ñ–π –±—ñ–∫ —Å—Ç–æ–ø–∏ —á–µ—Ä–µ–∑ –∫—ñ–≥—Ç—ñ.", desc: "–ì—ñ–≥–∞–Ω—Ç—Å—å–∫–∏–π –Ω–∞–∑–µ–º–Ω–∏–π –ª—ñ–Ω–∏–≤–µ—Ü—å —Ä–æ–∑–º—ñ—Ä–æ–º –∑—ñ —Å–ª–æ–Ω–∞. –ú—ñ–≥ –¥—ñ—Å—Ç–∞–≤–∞—Ç–∏ –ª–∏—Å—Ç—è –∑ –≤–µ—Ä—Ö—ñ–≤–æ–∫ –¥–µ—Ä–µ–≤.", coords: [-34, -58], image: "megatherium.jpg", icon: "ü¶•" },
            { id: 13, name: "–ì–ª—ñ–ø—Ç–æ–¥–æ–Ω", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "10 —Ç–∏—Å. —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -10000, weight: 2000, diet: "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–π üåø", funFact: "–ô–æ–≥–æ –ø–∞–Ω—Ü–∏—Ä –ª—é–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏ —è–∫ –¥–∞—Ö.", desc: "–†–æ–¥–∏—á –±—Ä–æ–Ω–µ–Ω–æ—Å—Ü—è —Ä–æ–∑–º—ñ—Ä–æ–º –∑ –∞–≤—Ç–æ–º–æ–±—ñ–ª—å. –ú–∞–≤ –∫—ñ—Å—Ç—è–Ω–∏–π –∫—É–ø–æ–ª —ñ –±—É–ª–∞–≤—É –Ω–∞ —Ö–≤–æ—Å—Ç—ñ.", coords: [-10, -55], image: "glypto.jpg", icon: "üê¢" },
            { id: 21, name: "–ê—Ä–∫—Ç–æ–¥—É—Å", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "11 —Ç–∏—Å. —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -11000, weight: 1000, diet: "–•–∏–∂–∞–∫ ü•©", funFact: "–ù–∞–π—à–≤–∏–¥—à–∏–π –≤–µ–¥–º—ñ–¥—å –≤ —ñ—Å—Ç–æ—Ä—ñ—ó.", desc: "–ö–æ—Ä–æ—Ç–∫–æ–º–æ—Ä–¥–∏–π –≤–µ–¥–º—ñ–¥—å. –ú–∞–≤ –¥–æ–≤–≥—ñ –Ω–æ–≥–∏, —â–æ–± –Ω–∞–∑–¥–æ–≥–∞–Ω—è—Ç–∏ –∑–¥–æ–±–∏—á.", coords: [45, -100], image: "arctodus.jpg", icon: "üêª" },
            { id: 22, name: "–Ü—Ä–ª–∞–Ω–¥—Å—å–∫–∏–π –æ–ª–µ–Ω—å", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "7700 —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -7700, weight: 700, diet: "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–π üåø", funFact: "–ú–∞–≤ —Ä–æ–≥–∏ —Ä–æ–∑–º–∞—Ö–æ–º 3.6 –º–µ—Ç—Ä–∏.", desc: "–ú–µ–≥–∞–ª–æ—Ü–µ—Ä–æ—Å. –í–∏–º–µ—Ä, –∫–æ–ª–∏ –ª—ñ—Å–∏ —Å—Ç–∞–ª–∏ –Ω–∞–¥—Ç–æ –≥—É—Å—Ç–∏–º–∏ –¥–ª—è –π–æ–≥–æ —Ä–æ–≥—ñ–≤.", coords: [53, -7], image: "irishelk.jpg", icon: "ü¶å" },
            { id: 16, name: "–ö–≤–∞–≥–∞", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "1883 —Ä—ñ–∫", sortDate: 1883, weight: 250, diet: "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–π üåø", funFact: "–°–ø–µ—Ä–µ–¥—É —Å–º—É–≥–∞—Å—Ç–∞, –∑–∑–∞–¥—É –∫–æ—Ä–∏—á–Ω–µ–≤–∞.", desc: "–ü—ñ–¥–≤–∏–¥ –∑–µ–±—Ä–∏ –∑ –ü—ñ–≤–¥–µ–Ω–Ω–æ—ó –ê—Ñ—Ä–∏–∫–∏. –ó–Ω–∏—â–µ–Ω–∞ –ª—é–¥—å–º–∏.", coords: [-30, 25], image: "kwagga.jpg", icon: "ü¶ì" },
            { id: 17, name: "–¢–∞—Å–º–∞–Ω—ñ–π—Å—å–∫–∏–π –í–æ–≤–∫", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "1936 —Ä—ñ–∫", sortDate: 1936, weight: 30, diet: "–•–∏–∂–∞–∫ ü•©", funFact: "–°—É–º—á–∞—Å—Ç–∏–π, —è–∫ –∫–µ–Ω–≥—É—Ä—É, –∞–ª–µ —Ö–∏–∂–∞–∫.", desc: "–¢–∏–ª–∞—Ü–∏–Ω. –ú–∞–≤ —Å–º—É–≥–∞—Å—Ç—É —Å–ø–∏–Ω—É. –ñ–∏–≤ –≤ –ê–≤—Å—Ç—Ä–∞–ª—ñ—ó.", coords: [-42, 147], image: "tasm_wolf.webp", icon: "üêï" },
            { id: 23, name: "–Ø–ø–æ–Ω—Å—å–∫–∏–π –≤–æ–≤–∫", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "1905 —Ä—ñ–∫", sortDate: 1905, weight: 25, diet: "–•–∏–∂–∞–∫ ü•©", funFact: "–ù–∞–π–º–µ–Ω—à–∏–π –≤–æ–≤–∫ —É —Å–≤—ñ—Ç—ñ.", desc: "–û—Å—Ç—Ä—ñ–≤–Ω–∏–π –∫–∞—Ä–ª–∏–∫–æ–≤–∏–π –≤–æ–≤–∫. –ó–Ω–∏–∫ —á–µ—Ä–µ–∑ —Ö–≤–æ—Ä–æ–±–∏.", coords: [36, 138], image: "japanesewolf.jpg", icon: "üê∫" },
            { id: 25, name: "–Ü–Ω–¥—Ä–∏–∫–æ—Ç–µ—Ä—ñ–π", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "23 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -23000000, weight: 20000, diet: "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–π üåø", funFact: "–í–∏—â–∏–π –∑–∞ —Ç—Ä–∏–ø–æ–≤–µ—Ä—Ö–æ–≤–∏–π –±—É–¥–∏–Ω–æ–∫.", desc: "–ù–∞–π–±—ñ–ª—å—à–∏–π –Ω–∞–∑–µ–º–Ω–∏–π —Å—Å–∞–≤–µ—Ü—å. –†–æ–¥–∏—á –Ω–æ—Å–æ—Ä–æ–≥–∞, –∞–ª–µ –∑ —à–∏—î—é –∂–∏—Ä–∞—Ñ–∞.", coords: [48, 65], image: "paraceratherium.jpg", icon: "ü¶í" },
            { id: 26, name: "–î–∏–ø—Ä–æ—Ç–æ–¥–æ–Ω", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "44 —Ç–∏—Å. —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -44000, weight: 2800, diet: "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–π üåø", funFact: "–ù–∞–π–±—ñ–ª—å—à–∏–π —Å—É–º—á–∞—Å—Ç–∏–π –≤ —ñ—Å—Ç–æ—Ä—ñ—ó.", desc: "–í–æ–º–±–∞—Ç —Ä–æ–∑–º—ñ—Ä–æ–º –∑ –±–µ–≥–µ–º–æ—Ç–∞! –ñ–∏–≤ —É –ê–≤—Å—Ç—Ä–∞–ª—ñ—ó.", coords: [-25, 133], image: "diprotodon.jpg", icon: "ü¶ò" },
            { id: 27, name: "–°—É–º—á–∞—Å—Ç–∏–π –ª–µ–≤", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "46 —Ç–∏—Å. —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -46000, weight: 130, diet: "–•–∏–∂–∞–∫ ü•©", funFact: "–ú–∞–≤ –Ω–∞–π—Å–∏–ª—å–Ω—ñ—à—ñ —â–µ–ª–µ–ø–∏ —Å–µ—Ä–µ–¥ —Å—Å–∞–≤—Ü—ñ–≤.", desc: "–•–∏–∂–∏–π —Ä–æ–¥–∏—á –∫–æ–∞–ª–∏. –ú–∞–≤ –≤–µ–ª–∏—á–µ–∑–Ω—ñ –∫—ñ–≥—Ç—ñ –Ω–∞ –ø–∞–ª—å—Ü—è—Ö.", coords: [-30, 140], image: "thylacoleo.jpg", icon: "ü¶Å" },
            { id: 28, name: "–ü–µ—á–µ—Ä–Ω–∏–π –≤–µ–¥–º—ñ–¥—å", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "24 —Ç–∏—Å. —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -24000, weight: 600, diet: "–í—Å–µ—ó–¥–Ω–∏–π üå∞", funFact: "–ñ–∏–≤ —É –ø–µ—á–µ—Ä–∞—Ö –Ñ–≤—Ä–æ–ø–∏.", desc: "–ë—ñ–ª—å—à–∏–π –∑–∞ –≥—Ä—ñ–∑–ª—ñ. –ö–æ–Ω–∫—É—Ä—É–≤–∞–≤ –∑ –Ω–µ–∞–Ω–¥–µ—Ä—Ç–∞–ª—å—Ü—è–º–∏.", coords: [46, 12], image: "cavebear.jpg", icon: "üêª" },
            { id: 29, name: "–ê–Ω–¥—Ä—é–∑–∞—Ä—Ö", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "36 –º–ª–Ω —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -36000000, weight: 1000, diet: "–•–∏–∂–∞–∫ ü•©", funFact: "–•–∏–∂–∞–∫ –∑ –∫–æ–ø–∏—Ç–∞–º–∏.", desc: "–°—Ö–æ–∂–∏–π –Ω–∞ –≤–æ–≤–∫–∞, –∞–ª–µ —Ä–æ–¥–∏—á –±–µ–≥–µ–º–æ—Ç—ñ–≤. –ú–∞–≤ –≤–µ–ª–∏—á–µ–∑–Ω—É –≥–æ–ª–æ–≤—É.", coords: [46, 103], image: "andrewsarchus.jpg", icon: "üê∫" },
            { id: 30, name: "–ì—ñ–≥–∞–Ω—Ç—Å—å–∫–∏–π –±–æ–±–µ—Ä", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "10 —Ç–∏—Å. —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -10000, weight: 100, diet: "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–π üåø", funFact: "–ó—É–±–∏ 15 —Å–º, –∞–ª–µ –Ω–µ –≥—Ä–∏–∑ –¥–µ—Ä–µ–≤–∞.", desc: "–†–æ–∑–º—ñ—Ä–æ–º –∑ –≤–µ–¥–º–µ–¥—è. –ñ–∏–≤ —É –æ–∑–µ—Ä–∞—Ö –ê–º–µ—Ä–∏–∫–∏.", coords: [45, -85], image: "giantbeaver.jpg", icon: "ü¶´" },
            { id: 31, name: "–°–∏–≤–∞—Ç–µ—Ä—ñ–π", category: "mammal", type: "–°—Å–∞–≤–µ—Ü—å", period: "8 —Ç–∏—Å. —Ä–æ–∫—ñ–≤ —Ç–æ–º—É", sortDate: -8000, weight: 1200, diet: "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–π üåø", funFact: "–ù–∞–π–±—ñ–ª—å—à–∞ –∂—É–π–Ω–∞ —Ç–≤–∞—Ä–∏–Ω–∞.", desc: "–†–æ–¥–∏—á –∂–∏—Ä–∞—Ñ–∞ –∑ —Ä–æ–≥–∞–º–∏ –ª–æ—Å—è. –ú–∞—Å–∏–≤–Ω–∏–π —ñ —Å–∏–ª—å–Ω–∏–π.", coords: [20, 78], image: "sivatherium.jpg", icon: "ü¶å" }
        ];

        // --- 2. QUIZ DATA (40 Questions - Fully Corrected Explanations) ---
        const quizData = [
            { q: "–©–æ –±—É–ª–æ –æ—Å–æ–±–ª–∏–≤–æ–≥–æ —É –ø—Ç–∞—Ö–∞ –î–æ–¥–æ?", options: ["–õ—ñ—Ç–∞–≤ —à–≤–∏–¥–∫–æ", "–ú–∞–≤ –∑—É–±–∏", "–ù–µ –±–æ—è–≤—Å—è –ª—é–¥–µ–π", "–ë—É–≤ –∑–µ–ª–µ–Ω–∏–º"], correct: 2, explanations: ["–ù—ñ, —á–µ—Ä–µ–∑ –º–∞–ª—ñ –∫—Ä–∏–ª–∞ –≤—ñ–Ω –Ω–µ –º—ñ–≥ –ª—ñ—Ç–∞—Ç–∏.", "–ù—ñ, —É –ø—Ç–∞—Ö—ñ–≤ –Ω–µ–º–∞—î –∑—É–±—ñ–≤.", "–¢–∞–∫! –í—ñ–Ω –∂–∏–≤ –±–µ–∑ —Ö–∏–∂–∞–∫—ñ–≤ —ñ –±—É–≤ –¥–æ–≤—ñ—Ä–ª–∏–≤–∏–º.", "–ù—ñ, –≤—ñ–Ω –º–∞–≤ —Å—ñ—Ä–µ –ø—ñ—Ä'—è."] },
            { q: "–ù–∞–≤—ñ—â–æ –º–∞–º–æ–Ω—Ç—É —à–µ—Ä—Å—Ç—å?", options: ["–î–ª—è –º–æ–¥–∏", "–í—ñ–¥ —Ö–æ–ª–æ–¥—É", "–î–ª—è –º–∞—Å–∫—É–≤–∞–Ω–Ω—è", "–¶–µ –ø—ñ—Ä'—è"], correct: 1, explanations: ["–ù—ñ, —Ç–≤–∞—Ä–∏–Ω–∏ –Ω–æ—Å—è—Ç—å —à–µ—Ä—Å—Ç—å –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É.", "–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –í–æ–Ω–∞ –≥—Ä—ñ–ª–∞ –π–æ–≥–æ –≤ –ª—é—Ç—ñ –º–æ—Ä–æ–∑–∏.", "–ù—ñ, –≤—ñ–Ω –±—É–≤ –∑–∞–Ω–∞–¥—Ç–æ –≤–µ–ª–∏–∫–∏–º –¥–ª—è –º–∞—Å–∫—É–≤–∞–Ω–Ω—è.", "–ù—ñ, –º–∞–º–æ–Ω—Ç–∏ ‚Äî —Å—Å–∞–≤—Ü—ñ, —É –Ω–∏—Ö —Ö—É—Ç—Ä–æ."] },
            { q: "–¢–≤–∞—Ä–∏–Ω–∞: —Å–ø–µ—Ä–µ–¥—É –∑–µ–±—Ä–∞, –∑–∑–∞–¥—É –∫—ñ–Ω—å?", options: ["–ö–≤–∞–≥–∞", "–û–∫–∞–ø—ñ", "–ñ–∏—Ä–∞—Ñ", "–¢–∞—Ä–ø–∞–Ω"], correct: 0, explanations: ["–¢–∞–∫! –¶–µ —É–Ω—ñ–∫–∞–ª—å–Ω–µ –∑–∞–±–∞—Ä–≤–ª–µ–Ω–Ω—è –ö–≤–∞–≥–∏.", "–ù—ñ, –û–∫–∞–ø—ñ –∂–∏–≤–µ –≤ –ª—ñ—Å—ñ —ñ –º–∞—î —Å–º—É–∂–∫–∏ –Ω–∞ –Ω–æ–≥–∞—Ö.", "–ù—ñ, –∂–∏—Ä–∞—Ñ –º–∞—î –ø–ª—è–º–∏.", "–ù—ñ, –¢–∞—Ä–ø–∞–Ω –±—É–≤ —Å—ñ—Ä–∏–º –¥–∏–∫–∏–º –∫–æ–Ω–µ–º."] },
            { q: "–ü—Ç–µ—Ä–∞–Ω–æ–¥–æ–Ω - —Ü–µ –¥–∏–Ω–æ–∑–∞–≤—Ä?", options: ["–¢–∞–∫", "–ù—ñ, –ø—Ç–µ—Ä–æ–∑–∞–≤—Ä", "–¶–µ –ø—Ç–∞—Ö", "–¶–µ –∫–∞–∂–∞–Ω"], correct: 1, explanations: ["–ü–æ–º–∏–ª–∫–∞. –¶–µ –ª—ñ—Ç–∞—é—á–∏–π —è—â—É—Ä.", "–ú–æ–ª–æ–¥–µ—Ü—å! –¶–µ —Ä–µ–ø—Ç–∏–ª—ñ—è –Ω–µ–±–∞, –∞ –Ω–µ –¥–∏–Ω–æ–∑–∞–≤—Ä.", "–ù—ñ, —É –Ω—å–æ–≥–æ –Ω–µ –±—É–ª–æ –ø—ñ—Ä'—è.", "–ù—ñ, —Ü–µ —Ä–µ–ø—Ç–∏–ª—ñ—è, –∞ –Ω–µ —Å—Å–∞–≤–µ—Ü—å."] },
            { q: "–ß–∏–º —Ö–∞—Ä—á—É–≤–∞–≤—Å—è –ú–µ–≥–∞–ª–æ–¥–æ–Ω?", options: ["–í–æ–¥–æ—Ä–æ—Å—Ç—è–º–∏", "–î—Ä—ñ–±–Ω–æ—é —Ä–∏–±–æ—é", "–ö–∏—Ç–∞–º–∏", "–°–æ–Ω—Ü–µ–º"], correct: 2, explanations: ["–ù—ñ, —É –Ω—å–æ–≥–æ –±—É–ª–∏ –≥–æ—Å—Ç—Ä—ñ –∑—É–±–∏.", "–ù—ñ, –π–æ–º—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—ñ–ª—å—à–µ —ó–∂—ñ.", "–¢–∞–∫! –í—ñ–Ω –±—É–≤ —Å—É–ø–µ—Ä—Ö–∏–∂–∞–∫–æ–º –æ–∫–µ–∞–Ω—É.", "–ù—ñ, —Ñ–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑ –ª–∏—à–µ —É —Ä–æ—Å–ª–∏–Ω."] },
            { q: "–°–º—ñ–ª–æ–¥–æ–Ω –≤—ñ–¥–æ–º–∏–π...", options: ["–í—É—Ö–∞–º–∏", "–Ü–∫–ª–∞–º–∏", "–ü–∞–Ω—Ü–∏—Ä–æ–º", "–®–≤–∏–¥–∫—ñ—Å—Ç—é"], correct: 1, explanations: ["–ù—ñ, –∑–≤–∏—á–∞–π–Ω—ñ –≤—É—Ö–∞.", "–¢–∞–∫! –Ü–∫–ª–∞-–∫–∏–Ω–¥–∂–∞–ª–∏ –¥–æ 28 —Å–º.", "–ù—ñ, —Ü–µ –ø—Ä–æ —á–µ—Ä–µ–ø–∞—Ö.", "–ù—ñ, –≤—ñ–Ω –±—É–≤ —Å–∏–ª—å–Ω–∏–º, –∞–ª–µ –Ω–µ –¥—É–∂–µ —à–≤–∏–¥–∫–∏–º."] },
            { q: "–©–æ —É –ì–ª—ñ–ø—Ç–æ–¥–æ–Ω–∞ –Ω–∞ —Å–ø–∏–Ω—ñ?", options: ["–†—é–∫–∑–∞–∫", "–ö—Ä–∏–ª–∞", "–ü–∞–Ω—Ü–∏—Ä", "–®–µ—Ä—Å—Ç—å"], correct: 2, explanations: ["–°–º—ñ—à–Ω–æ, –∞–ª–µ –Ω—ñ.", "–ù—ñ, –≤—ñ–Ω –Ω–µ –ª—ñ—Ç–∞–≤.", "–¢–∞–∫! –ú—ñ—Ü–Ω–∏–π –∫—ñ—Å—Ç–∫–æ–≤–∏–π –∫—É–ø–æ–ª.", "–ù—ñ, –≤—ñ–Ω –±—É–≤ –≤–∫—Ä–∏—Ç–∏–π –±—Ä–æ–Ω–µ—é."] },
            { q: "–•—Ç–æ —Ç—É—Ç —Ç—Ä–∞–≤–æ—ó–¥–Ω–∏–π?", options: ["–¢-–†–µ–∫—Å", "–°–º—ñ–ª–æ–¥–æ–Ω", "–¢—Ä–∏—Ü–µ—Ä–∞—Ç–æ–ø—Å", "–¢–∏—Ç–∞–Ω–æ–±–æ–∞"], correct: 2, explanations: ["–ù—ñ, —Ü–µ —Ö–∏–∂–∞–∫.", "–ù—ñ, —Ü–µ —Ö–∏–∂–∞–∫.", "–¢–∞–∫! –í—ñ–Ω —ó–≤ —Ä–æ—Å–ª–∏–Ω–∏ —Å–≤–æ—ó–º –¥–∑—å–æ–±–æ–º.", "–ù—ñ, —Ü–µ –≤–µ–ª–∏—á–µ–∑–Ω–∞ –∑–º—ñ—è."] },
            { q: "–û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å –ú–æ–∞?", options: ["3 –Ω–æ–≥–∏", "–ë–µ–∑ –∫—Ä–∏–ª", "–ü–ª–∞–≤–∞–≤", "–°–≤—ñ—Ç–∏–≤—Å—è"], correct: 1, explanations: ["–ù—ñ, —É –ø—Ç–∞—Ö—ñ–≤ –¥–≤—ñ –Ω–æ–≥–∏.", "–¢–∞–∫! –£ –Ω—å–æ–≥–æ –∑–Ω–∏–∫–ª–∏ –Ω–∞–≤—ñ—Ç—å –∫—ñ—Å—Ç–∫–∏ –∫—Ä–∏–ª.", "–ù—ñ, –≤—ñ–Ω –∂–∏–≤ —É –ª—ñ—Å–∞—Ö.", "–ù—ñ, —Ü–µ —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞."] },
            { q: "–î–µ –∂–∏–ª–∞ –¢–∏—Ç–∞–Ω–æ–±–æ–∞?", options: ["–¢—É–Ω–¥—Ä–∞", "–î–∂—É–Ω–≥–ª—ñ", "–û–∫–µ–∞–Ω", "–ü—É—Å—Ç–µ–ª—è"], correct: 1, explanations: ["–ù—ñ, —Ç–∞–º —Ö–æ–ª–æ–¥–Ω–æ –¥–ª—è –∑–º—ñ—ó.", "–¢–∞–∫! –£ —Ç–µ–ø–ª–∏—Ö –±–æ–ª–æ—Ç–∞—Ö –ö–æ–ª—É–º–±—ñ—ó.", "–ù—ñ, —Ü–µ –ø—Ä—ñ—Å–Ω–æ–≤–æ–¥–Ω–∞ –∑–º—ñ—è.", "–ù—ñ, —Ç–∞–º –º–∞–ª–æ –≤–æ–¥–∏."] },
            { q: "–î–∏–Ω–æ–∑–∞–≤—Ä-–º—É–∑–∏–∫–∞–Ω—Ç?", options: ["–°—Ç–µ–≥–æ–∑–∞–≤—Ä", "–¢—Ä–∏—Ü–µ—Ä–∞—Ç–æ–ø—Å", "–ü–∞—Ä–∞–∑–∞—É—Ä–æ–ª–æ—Ñ", "–¢-–†–µ–∫—Å"], correct: 2, explanations: ["–ù—ñ.", "–ù—ñ.", "–¢–∞–∫! –ô–æ–≥–æ –≥—Ä–µ–±—ñ–Ω—å –ø—Ä–∞—Ü—é–≤–∞–≤ —è–∫ —Ç—Ä—É–±–∞.", "–ù—ñ, –≤—ñ–Ω –≥–∞—Ä—á–∞–≤."] },
            { q: "–í–∞–≥–∞ –ú–æ—Ä—Å—å–∫–æ—ó –ö–æ—Ä–æ–≤–∏?", options: ["5 –∫–≥", "80 –∫–≥", "10 —Ç–æ–Ω–Ω", "150 —Ç"], correct: 2, explanations: ["–ù—ñ, —Ü–µ –≤–∞–≥–∞ –∫–æ—Ç–∞.", "–ù—ñ, —Ü–µ –≤–∞–≥–∞ –ª—é–¥–∏–Ω–∏.", "–¢–∞–∫! –í–æ–Ω–∞ –±—É–ª–∞ –≤–µ–ª–∏—á–µ–∑–Ω–æ—é.", "–ù—ñ, —Ü–µ –≤–∞–≥–∞ —Å–∏–Ω—å–æ–≥–æ –∫–∏—Ç–∞."] },
            { q: "–ú–µ–≥–∞—Ç–µ—Ä—ñ–π - —Ü–µ...", options: ["–ö—Ä–æ–ª–∏–∫", "–õ—ñ–Ω–∏–≤–µ—Ü—å-–≥—ñ–≥–∞–Ω—Ç", "–ü—Ç–∞—Ö", "–ö—Ä—ñ—Ç"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! –õ—ñ–Ω–∏–≤–µ—Ü—å —Ä–æ–∑–º—ñ—Ä–æ–º –∑—ñ —Å–ª–æ–Ω–∞.", "–ù—ñ.", "–ù—ñ, –≤—ñ–Ω –∂–∏–≤ –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω—ñ."] },
            { q: "–ê—Ä—Ö–µ–æ–ø—Ç–µ—Ä–∏–∫—Å –¥–æ–≤—ñ–≤...", options: ["–ù—ñ—á–æ–≥–æ", "–ó–≤'—è–∑–æ–∫ –ø—Ç–∞—Ö—ñ–≤ —ñ –¥–∏–Ω–æ–∑–∞–≤—Ä—ñ–≤", "–ü–æ–ª—ñ—Ç –≤ –∫–æ—Å–º–æ—Å", "–Ü—Å–Ω—É–≤–∞–Ω–Ω—è –¥—Ä–∞–∫–æ–Ω—ñ–≤"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! –í—ñ–Ω –º–∞–≤ –æ–∑–Ω–∞–∫–∏ –æ–±–æ—Ö –≥—Ä—É–ø.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–¢–∞—Å–º–∞–Ω—ñ–π—Å—å–∫–∏–π –≤–æ–≤–∫ –±—É–≤...", options: ["–°—É–º—á–∞—Å—Ç–∏–º", "–ó–µ–ª–µ–Ω–∏–º", "–¢—Ä–∞–≤–æ—ó–¥–Ω–∏–º", "–ü–æ–ª—è—Ä–Ω–∏–º"], correct: 0, explanations: ["–¢–∞–∫! –†–æ–¥–∏—á –∫–µ–Ω–≥—É—Ä—É, –∞ –Ω–µ —Å–æ–±–∞–∫–∏.", "–ù—ñ, –≤—ñ–Ω –±—É–≤ —Å–º—É–≥–∞—Å—Ç–∏–º.", "–ù—ñ, –≤—ñ–Ω —ó–≤ –º'—è—Å–æ.", "–ù—ñ, –≤—ñ–Ω –∂–∏–≤ –≤ –ê–≤—Å—Ç—Ä–∞–ª—ñ—ó."] },
            { q: "–ó–∞—Ö–∏—Å—Ç –°—Ç–µ–≥–æ–∑–∞–≤—Ä–∞?", options: ["–ë—ñ–≥", "–®–∏–ø–∏ –Ω–∞ —Ö–≤–æ—Å—Ç—ñ", "–û—Ç—Ä—É—Ç–∞", "–ú–∞–≥—ñ—è"], correct: 1, explanations: ["–ù—ñ, –≤—ñ–Ω –ø–æ–≤—ñ–ª—å–Ω–∏–π.", "–¢–∞–∫! –¢–∞–≥–æ–º–∞–π–∑–µ—Ä –ø—Ä–æ—Ç–∏ —Ö–∏–∂–∞–∫—ñ–≤.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–ß–æ–º—É –∑–Ω–∏–∫–ª–∏ –ú–∞–Ω–¥—Ä—ñ–≤–Ω—ñ –≥–æ–ª—É–±–∏?", options: ["–ù–õ–û", "–ö–ª—ñ–º–∞—Ç", "–õ—é–¥–∏ –ø–æ–ª—é–≤–∞–ª–∏", "–î–∏–Ω–æ–∑–∞–≤—Ä–∏"], correct: 2, explanations: ["–ù—ñ.", "–¢—Ä–æ—Ö–∏, –∞–ª–µ –Ω–µ –≥–æ–ª–æ–≤–Ω–µ.", "–¢–∞–∫! –á—Ö –≤–∏–Ω–∏—â–∏–ª–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é.", "–ù—ñ, —Ä—ñ–∑–Ω—ñ –µ–ø–æ—Ö–∏."] },
            { q: "–ë–∞–π—Ü–∑—ñ - —Ü–µ...", options: ["–ö–æ–∑–µ–ª", "–î–µ–ª—å—Ñ—ñ–Ω", "–ü–∞–ø—É–≥–∞", "–ß–µ—Ä–µ–ø–∞—Ö–∞"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! –†—ñ—á–∫–æ–≤–∏–π –¥–µ–ª—å—Ñ—ñ–Ω –Ø–Ω—Ü–∑–∏.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–ú–æ–∑–æ–∫ –°—Ç–µ–≥–æ–∑–∞–≤—Ä–∞...", options: ["–í–µ–ª–∏–∫–∏–π", "–ú–∞–ª–∏–π (—è–∫ –≥–æ—Ä—ñ—Ö)", "–ü–æ–¥–≤—ñ–π–Ω–∏–π", "–í—ñ–¥—Å—É—Ç–Ω—ñ–π"], correct: 1, explanations: ["–ù—ñ, –¥—É–∂–µ –º–∞–ª–∏–π.", "–¢–∞–∫! –í—Å—å–æ–≥–æ 80 –≥—Ä–∞–º—ñ–≤.", "–¶–µ –º—ñ—Ñ.", "–ù—ñ."] },
            { q: "–ß–æ–º—É –ê—Ä–∫—Ç–æ–¥—É—Å —à–≤–∏–¥–∫–∏–π?", options: ["–ö–æ–ª–µ—Å–∞", "–î–æ–≤–≥—ñ –Ω–æ–≥–∏", "–ö—Ä–∏–ª–∞", "–°—Ç—Ä–∏–±–∞–≤"], correct: 1, explanations: ["–°–º—ñ—à–Ω–æ.", "–¢–∞–∫! –¶–µ –¥–æ–ø–æ–º–∞–≥–∞–ª–æ –Ω–∞–∑–¥–æ–≥–∞–Ω—è—Ç–∏ –∑–¥–æ–±–∏—á.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–ì–æ—Ä–¥—ñ—Å—Ç—å –Ü—Ä–ª–∞–Ω–¥—Å—å–∫–æ–≥–æ –æ–ª–µ–Ω—è?", options: ["–•–æ–±–æ—Ç", "–†–æ–≥–∏ 3.6–º", "–Ü–∫–ª–∞", "–ü–∞–Ω—Ü–∏—Ä"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! –ù–∞–π–±—ñ–ª—å—à—ñ —Ä–æ–≥–∏ –≤ —ñ—Å—Ç–æ—Ä—ñ—ó.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–Ø–ø–æ–Ω—Å—å–∫–∏–π –≤–æ–≤–∫ –±—É–≤...", options: ["–ù–∞–π–º–µ–Ω—à–∏–º", "–í–µ–ª–µ—Ç–Ω–µ–º", "–ü—Ç–∞—Ö–æ–º", "–î—Ä–∞–∫–æ–Ω–æ–º"], correct: 0, explanations: ["–¢–∞–∫! –û—Å—Ç—Ä—ñ–≤–Ω–∏–π –∫–∞—Ä–ª–∏–∫–æ–≤–∏–π –≤–∏–¥.", "–ù—ñ.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–ù–∞ –∫–æ–≥–æ –±—É–ª–∞ —Å—Ö–æ–∂–∞ –ë–µ–∑–∫—Ä–∏–ª–∞ –≥–∞–≥–∞—Ä–∫–∞?", options: ["–°—Ç—Ä–∞—É—Å–∞", "–ü—ñ–Ω–≥–≤—ñ–Ω–∞", "–ö—Ä–æ–∫–æ–¥–∏–ª–∞", "–ü–∞–ø—É–≥—É"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! –á—ó –Ω–∞–≤—ñ—Ç—å –Ω–∞–∑–∏–≤–∞–ª–∏ '–ø—ñ–Ω–≥–≤—ñ–Ω–æ–º –ø—ñ–≤–Ω–æ—á—ñ', —Ö–æ—á–∞ –≤–æ–Ω–∏ –Ω–µ —Ä–æ–¥–∏—á—ñ.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–Ü—Å—Ç–æ—Ä—ñ—è –≤—á–∏—Ç—å –Ω–∞—Å...", options: ["–ù—É–¥—å–≥—É–≤–∞—Ç–∏", "–ë–µ—Ä–µ–≥—Ç–∏ –ø—Ä–∏—Ä–æ–¥—É", "–ß–µ–∫–∞—Ç–∏", "–ù—ñ—á–æ–º—É"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! –¶–µ –≤–∞–∂–ª–∏–≤–æ.", "–ù–∞–≤—Ä—è–¥ —á–∏.", "–í—á–∏—Ç—å."] },
            { q: "–Ü–Ω–¥—Ä–∏–∫–æ—Ç–µ—Ä—ñ–π –±—É–≤...", options: ["–ì—Ä–∏–∑—É–Ω–æ–º", "–ù–∞–π–±—ñ–ª—å—à–∏–º —Å—Å–∞–≤—Ü–µ–º", "–•–∏–∂–∞–∫–æ–º", "–í–æ–¥–Ω–∏–º"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! 20 —Ç–æ–Ω–Ω.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–ù–∞ –∫–æ–≥–æ –±—É–≤ —Å—Ö–æ–∂–∏–π –î–∏–ø—Ä–æ—Ç–æ–¥–æ–Ω?", options: ["–í–æ–º–±–∞—Ç-–≥—ñ–≥–∞–Ω—Ç", "–ó–º—ñ—è", "–û—Ä–µ–ª", "–†–∏–±–∞"], correct: 0, explanations: ["–¢–∞–∫! –ë–µ–≥–µ–º–æ—Ç-–≤–æ–º–±–∞—Ç.", "–ù—ñ.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–ó–±—Ä–æ—è –°—É–º—á–∞—Å—Ç–æ–≥–æ –ª–µ–≤–∞?", options: ["–û—Ç—Ä—É—Ç–∞", "–ö—ñ–≥–æ—Ç—å –Ω–∞ –ø–∞–ª—å—Ü—ñ", "–†–æ–≥–∏", "–•–æ–±–æ—Ç"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! –†—ñ–∑–∞–≤ —è–∫ –Ω–æ–∂–µ–º.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–î–µ –∂–∏–ª–∏ –ü–µ—á–µ—Ä–Ω—ñ –≤–µ–¥–º–µ–¥—ñ?", options: ["–î–µ—Ä–µ–≤–∞", "–ü–µ—á–µ—Ä–∏", "–ú–æ—Ä–µ", "–ü—É—Å—Ç–µ–ª—è"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! –¢–∞–º –∑–∏–º—É–≤–∞–ª–∏.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–ê–Ω–¥—Ä—é–∑–∞—Ä—Ö - —Ä–æ–¥–∏—á...", options: ["–ö–æ—Ç—ñ–≤", "–ë–µ–≥–µ–º–æ—Ç—ñ–≤", "–ü—Ç–∞—Ö—ñ–≤", "–ó–º—ñ–π"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! –•–∏–∂–∞–∫ –∑ –∫–æ–ø–∏—Ç–∞–º–∏.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–ß–∏–º —Ö–∞—Ä—á—É–≤–∞–≤—Å—è –ì—ñ–≥–∞–Ω—Ç—Å—å–∫–∏–π –±–æ–±–µ—Ä?", options: ["–î–µ—Ä–µ–≤–æ–º", "–í–æ–¥–Ω–∏–º–∏ —Ä–æ—Å–ª–∏–Ω–∞–º–∏", "–†–∏–±–æ—é", "–ö–∞–º—ñ–Ω–Ω—è–º"], correct: 1, explanations: ["–ù—ñ, –Ω–µ –≥—Ä–∏–∑ –¥–µ—Ä–µ–≤–∞.", "–¢–∞–∫! –ú'—è–∫–æ—é —Ä–æ—Å–ª–∏–Ω–Ω—ñ—Å—Ç—é.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–°–∏–≤–∞—Ç–µ—Ä—ñ–π —Å—Ö–æ–∂–∏–π –Ω–∞...", options: ["–°–ª–æ–Ω–∞", "–ñ–∏—Ä–∞—Ñ–∞ –∑ —Ä–æ–≥–∞–º–∏", "–¢–∏–≥—Ä–∞", "–ö–∏—Ç–∞"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! –ö–æ—Ä–æ—Ç–∫–æ—à–∏—ó–π.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–ú–µ–≥–∞–ª–∞–Ω—ñ—è - —Ü–µ...", options: ["–ü—Ç–∞—Ö", "–ì—ñ–≥–∞–Ω—Ç—Å—å–∫–∏–π –≤–∞—Ä–∞–Ω", "–ñ–∞–±–∞", "–†–∏–±–∞"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! 7 –º–µ—Ç—Ä—ñ–≤.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–Ø–π—Ü–µ –ï–ø—ñ–æ—Ä–Ω—ñ—Å–∞...", options: ["–ú–∞–ª–µ", "–ù–∞–π–±—ñ–ª—å—à–µ –≤ —Å–≤—ñ—Ç—ñ", "–ö–≤–∞–¥—Ä–∞—Ç–Ω–µ", "–°–∏–Ω—î"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! 160 –∫—É—Ä—è—á–∏—Ö.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–¢—ñ—Ç–∞–Ω—ñ—Å - —Ü–µ...", options: ["–ü—Ç–∞—Ö –∂–∞—Ö—É", "–°–ø—ñ–≤–∞–∫", "–ü—Ä–∏–≤–∏–¥", "–ü–æ—Ç–≤–æ—Ä–∞"], correct: 0, explanations: ["–¢–∞–∫! –•–∏–∂–∞–∫.", "–ù—ñ.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–£ –î—ñ–º–µ—Ç—Ä–æ–¥–æ–Ω–∞ –Ω–∞ —Å–ø–∏–Ω—ñ...", options: ["–ö—Ä–∏–ª–∞", "–í—ñ—Ç—Ä–∏–ª–æ", "–ì–æ—Ä–±", "–®–∏–ø–∏"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! –î–ª—è —Ç–µ–ø–ª–∞.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–î—É–Ω–∫–ª–µ–æ—Å—Ç–µ–π –º–∞–≤...", options: ["–ó—É–±–∏", "–ö—ñ—Å—Ç–∫–æ–≤—ñ –ø–ª–∞—Å—Ç–∏–Ω–∏", "–î–∑—å–æ–±", "–•–æ–±–æ—Ç"], correct: 1, explanations: ["–ù—ñ, —Å–ø—Ä–∞–≤–∂–Ω—ñ—Ö –∑—É–±—ñ–≤ –Ω–µ –º–∞–≤.", "–¢–∞–∫! –ì–æ—Å—Ç—Ä—ñ —è–∫ –ª–µ–∑–∞.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–°–ø—ñ–Ω–æ–∑–∞–≤—Ä –≤–º—ñ–≤...", options: ["–õ—ñ—Ç–∞—Ç–∏", "–ü–ª–∞–≤–∞—Ç–∏", "–°–ø—ñ–≤–∞—Ç–∏", "–°—Ç–∞–≤–∞—Ç–∏ –Ω–µ–≤–∏–¥–∏–º–∏–º"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! –Ñ–¥–∏–Ω–∏–π –≤–æ–¥–Ω–∏–π –¥–∏–Ω–æ–∑–∞–≤—Ä.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–•–≤—ñ—Å—Ç –ê–Ω–∫—ñ–ª–æ–∑–∞–≤—Ä–∞ - —Ü–µ...", options: ["–í—ñ—è–ª–æ", "–ë—É–ª–∞–≤–∞", "–ì–∞—á–æ–∫", "–ö–≤—ñ—Ç–∫–∞"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! –í–∞–∂–∫–∞ –∫—ñ—Å—Ç—è–Ω–∞ –∫—É–ª—è.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–ë–∞–∑–∏–ª–æ–∑–∞–≤—Ä - —Ü–µ...", options: ["–Ø—â—ñ—Ä", "–°—Ç–∞—Ä–æ–¥–∞–≤–Ω—ñ–π –∫–∏—Ç", "–ü—Ç–∞—Ö", "–†–∏–±–∞"], correct: 1, explanations: ["–ù–∞–∑–≤–∞ –æ–∑–Ω–∞—á–∞—î —è—â—ñ—Ä, –∞–ª–µ —Ü–µ –ø–æ–º–∏–ª–∫–∞.", "–¢–∞–∫! –•–∏–∂–∏–π –∫–∏—Ç.", "–ù—ñ.", "–ù—ñ."] },
            { q: "–ú–æ–∑–∞–∑–∞–≤—Ä —ó–≤...", options: ["–í–æ–¥–æ—Ä–æ—Å—Ç—ñ", "–ê–∫—É–ª —ñ —Ä–µ–ø—Ç–∏–ª—ñ–π", "–ü–ª–∞–Ω–∫—Ç–æ–Ω", "–ö–∞–º—ñ–Ω–Ω—è"], correct: 1, explanations: ["–ù—ñ.", "–¢–∞–∫! –í—ñ–Ω –±—É–≤ —Ç–æ–ø-—Ö–∏–∂–∞–∫–æ–º.", "–ù—ñ.", "–ù—ñ."] }
        ];

        // --- APP LOGIC ---
        let currentFilter = 'all';
        let currentSort = 'default';
        let currentQ = 0;
        let score = 0;

        document.addEventListener('DOMContentLoaded', () => {
            initGlobeSafe();
            renderGallery();
            startQuiz();
            initTimeline();
        });

        // --- GLOBE LOGIC (Fixed) ---
        function initGlobeSafe() {
            const interval = setInterval(() => {
                if (typeof Globe !== 'undefined') {
                    clearInterval(interval);
                    initGlobeGL();
                }
            }, 500);
        }

        function initGlobeGL() {
            const globeContainer = document.getElementById('globeViz');
            
            // Resize observer to fix "corner" bug
            const resizeObserver = new ResizeObserver(() => {
                world.width(globeContainer.offsetWidth);
                world.height(globeContainer.offsetHeight);
            });
            resizeObserver.observe(globeContainer);

            const markers = animals.filter(a => a.coords).map(a => ({
                lat: a.coords[0],
                lng: a.coords[1],
                name: a.name,
                id: a.id,
                icon: a.icon,
                desc: a.desc,
                image: a.image,
                fact: a.funFact,
                period: a.period
            }));

            const world = Globe()
                (globeContainer)
                .globeImageUrl('//unpkg.com/three-globe/example/img/earth-blue-marble.jpg')
                .bumpImageUrl('//unpkg.com/three-globe/example/img/earth-topology.png')
                .backgroundImageUrl('//unpkg.com/three-globe/example/img/night-sky.png')
                .htmlElementsData(markers)
                .htmlLat(d => d.lat)
                .htmlLng(d => d.lng)
                .htmlElement(d => {
                    const el = document.createElement('div');
                    el.innerHTML = d.icon;
                    el.style.fontSize = '36px';
                    el.style.cursor = 'pointer';
                    el.className = 'hover:scale-150 transition-transform duration-300 drop-shadow-lg';
                    
                    // Custom Tooltip Logic
                    el.onmouseenter = (e) => {
                        const tt = document.getElementById('globe-custom-tooltip');
                        tt.textContent = d.name;
                        tt.style.opacity = '1';
                        tt.style.left = (el.offsetLeft + 20) + 'px'; 
                        tt.style.top = (el.offsetTop - 30) + 'px';
                    };
                    el.onmouseleave = () => {
                        document.getElementById('globe-custom-tooltip').style.opacity = '0';
                    };

                    // Click Logic
                    el.onclick = (e) => {
                        e.stopPropagation(); // Prevent map click
                        world.pointOfView({ lat: d.lat, lng: d.lng, altitude: 1.5 }, 1000);
                        world.controls().autoRotate = false;
                        
                        // Show Card
                        const card = document.getElementById('globe-popup');
                        document.getElementById('popup-title').textContent = d.name;
                        document.getElementById('popup-icon').textContent = d.icon;
                        document.getElementById('popup-desc').textContent = d.desc;
                        document.getElementById('popup-period').textContent = d.period;
                        
                        const img = document.getElementById('popup-img');
                        img.src = d.image;
                        img.onerror = function() { this.src = 'https://placehold.co/600x400?text=No+Image'; };

                        document.getElementById('popup-btn').onclick = () => openModal(animals.find(a => a.id === d.id));
                        
                        card.classList.add('active');
                    };
                    return el;
                });

            world.controls().autoRotate = true;
            world.controls().autoRotateSpeed = 0.5;
            world.controls().enableZoom = true; 

            const CLOUDS_IMG_URL = '//unpkg.com/three-globe/example/img/clouds.png'; 
            new THREE.TextureLoader().load(CLOUDS_IMG_URL, cloudsTexture => {
                const clouds = new THREE.Mesh(
                    new THREE.SphereGeometry(world.getGlobeRadius() * 1.015, 75, 75),
                    new THREE.MeshPhongMaterial({ map: cloudsTexture, transparent: true, opacity: 0.8 })
                );
                world.scene().add(clouds);
                (function rotateClouds() {
                    clouds.rotation.y += -0.002 * Math.PI / 180;
                    requestAnimationFrame(rotateClouds);
                })();
            });

            world.onGlobeClick(() => {
                closeGlobePopup();
                world.controls().autoRotate = true;
            });
        }
        
        function closeGlobePopup() {
            document.getElementById('globe-popup').classList.remove('active');
        }

        // --- GALLERY LOGIC ---
        function renderGallery() {
            const grid = document.getElementById('animal-grid');
            grid.innerHTML = '';
            let displayData = [...animals];

            if (currentFilter !== 'all') {
                displayData = displayData.filter(a => {
                    if (currentFilter === 'dino') return a.category === 'dino';
                    if (currentFilter === 'mammal') return a.category === 'mammal' || a.category === 'ice';
                    if (currentFilter === 'bird') return a.category === 'bird';
                    if (currentFilter === 'water') return a.category === 'water' || a.diet.includes('–†–∏–±–∞');
                    if (currentFilter === 'reptile') return a.category === 'reptile' || (a.type === '–†–µ–ø—Ç–∏–ª—ñ—è' && a.category !== 'dino');
                    return false;
                });
            }

            if (currentSort === 'weight-desc') displayData.sort((a,b) => b.weight - a.weight);
            if (currentSort === 'weight-asc') displayData.sort((a,b) => a.weight - b.weight);
            if (currentSort === 'time-old') displayData.sort((a,b) => a.sortDate - b.sortDate);
            if (currentSort === 'time-new') displayData.sort((a,b) => b.sortDate - a.sortDate);

            displayData.forEach(animal => {
                let tagColor = "bg-gray-200 text-gray-700";
                if(animal.category === 'dino') tagColor = "bg-red-100 text-red-800";
                if(animal.category === 'mammal' || animal.category === 'ice') tagColor = "bg-blue-100 text-blue-800";
                if(animal.category === 'recent') tagColor = "bg-green-100 text-green-800";
                if(animal.category === 'bird') tagColor = "bg-yellow-100 text-yellow-800";

                grid.innerHTML += `
                    <div id="animal-card-${animal.id}" class="animal-card group cursor-pointer" onclick="openModal(animals.find(a => a.id === ${animal.id}))">
                        <div class="card-img-wrapper">
                            <img src="${animal.image}" alt="${animal.name}" loading="lazy" onerror="this.src='https://placehold.co/600x400/e2e8f0/94a3b8?text=–§–æ—Ç–æ+–≤—ñ–¥—Å—É—Ç–Ω—î'">
                            <div class="absolute top-3 right-3 ${tagColor} text-[10px] font-extrabold px-3 py-1 rounded-full shadow-md border border-white/60 backdrop-blur-sm">${animal.period}</div>
                            <div class="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300 flex items-center justify-center"><span class="opacity-0 group-hover:opacity-100 bg-white text-emerald-800 px-4 py-2 rounded-full font-bold shadow-lg transform translate-y-4 group-hover:translate-y-0 transition-all duration-300">–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ</span></div>
                        </div>
                        <div class="p-6 flex-grow flex flex-col">
                            <div class="flex justify-between items-center mb-3">
                                <h3 class="text-2xl font-black text-[#064e3b] fun-font leading-none">${animal.name}</h3>
                                <span class="text-3xl filter drop-shadow-md transform group-hover:scale-110 transition-transform">${animal.icon}</span>
                            </div>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="bg-emerald-50 text-emerald-700 px-2 py-1 rounded-md text-xs font-bold border border-emerald-100">‚öñÔ∏è ${animal.weight < 1000 ? animal.weight + ' –∫–≥' : (animal.weight/1000) + ' —Ç'}</span>
                                <span class="bg-emerald-50 text-emerald-700 px-2 py-1 rounded-md text-xs font-bold border border-emerald-100">${animal.diet}</span>
                            </div>
                            <p class="text-sm text-gray-600 leading-relaxed mb-4 line-clamp-3">${animal.desc}</p>
                            <div class="mt-auto pt-4 border-t border-emerald-50">
                                <p class="text-xs font-bold text-emerald-500 uppercase mb-1">–ó–Ω–∞—î—à —â–æ?</p>
                                <p class="text-xs text-emerald-800 italic font-medium">"${animal.funFact.substring(0, 60)}..."</p>
                            </div>
                        </div>
                    </div>
                `;
            });
        }

        function applyFilter(cat) {
            currentFilter = cat;
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('filter-active'));
            event.target.classList.add('filter-active');
            renderGallery();
        }

        function applySort() {
            currentSort = document.getElementById('sort-select').value;
            renderGallery();
        }

        // --- MODAL ---
        function openModal(animal) {
            document.getElementById('modal-img').src = animal.image;
            document.getElementById('modal-img').onerror = function() { this.src = 'https://placehold.co/800x600/e2e8f0/94a3b8?text=–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è+–≤—ñ–¥—Å—É—Ç–Ω—î'; };
            document.getElementById('modal-title').textContent = animal.name;
            document.getElementById('modal-icon').textContent = animal.icon;
            document.getElementById('modal-period').textContent = animal.period;
            document.getElementById('modal-desc').textContent = animal.desc;
            document.getElementById('modal-fact').textContent = animal.funFact;
            document.getElementById('modal-weight').textContent = `‚öñÔ∏è –í–∞–≥–∞: ${animal.weight < 1000 ? animal.weight + ' –∫–≥' : (animal.weight/1000) + ' —Ç'}`;
            document.getElementById('modal-diet').textContent = `üçΩÔ∏è –î—ñ—î—Ç–∞: ${animal.diet}`;
            document.getElementById('modal-type').textContent = `üß¨ –¢–∏–ø: ${animal.type}`;
            const modal = document.getElementById('detail-modal');
            modal.classList.remove('hidden');
            setTimeout(() => { modal.classList.remove('opacity-0'); }, 10);
            document.body.style.overflow = 'hidden';
        }

        function closeModal(e) {
            if (e && !e.target.classList.contains('modal-overlay') && !e.target.tagName === 'BUTTON') return;
            const modal = document.getElementById('detail-modal');
            modal.classList.add('opacity-0');
            setTimeout(() => { modal.classList.add('hidden'); document.body.style.overflow = 'auto'; }, 300);
        }

        // --- CHART ---
        function initTimeline() {
            const ctxEmoji = document.getElementById('emojiTimelineChart').getContext('2d');
            const timelineData = animals.map(a => ({
                x: a.category === 'dino' ? 0 : (a.category === 'ice' || a.category === 'mammal' ? 1 : 2),
                y: a.weight,
                jitterX: (Math.random() * 0.7 - 0.35),
                icon: a.icon, name: a.name, period: a.period
            })).map(d => ({ x: d.x + d.jitterX, y: d.y, icon: d.icon, name: d.name, period: d.period }));

            const emojiPlugin = {
                id: 'emojiPlugin',
                afterDatasetsDraw(chart) {
                    const ctx = chart.ctx;
                    chart.data.datasets.forEach((dataset, i) => {
                        const meta = chart.getDatasetMeta(i);
                        meta.data.forEach((element, index) => {
                            const dataPoint = dataset.data[index];
                            ctx.save();
                            ctx.font = '26px "Segoe UI Emoji", sans-serif';
                            ctx.textAlign = 'center';
                            ctx.textBaseline = 'middle';
                            ctx.shadowColor = "rgba(0,0,0,0.1)";
                            ctx.shadowBlur = 2;
                            ctx.fillText(dataPoint.icon, element.x, element.y);
                            ctx.restore();
                        });
                    });
                }
            };

            new Chart(ctxEmoji, {
                type: 'scatter',
                plugins: [emojiPlugin],
                data: { datasets: [{ data: timelineData, pointRadius: 0, pointHitRadius: 30 }] },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    layout: { padding: 20 },
                    scales: {
                        x: { type: 'linear', position: 'bottom', min: -0.5, max: 2.5, ticks: { callback: v => Math.abs(v-0)<0.2?"–ï—Ä–∞ –î–∏–Ω–æ–∑–∞–≤—Ä—ñ–≤":Math.abs(v-1)<0.2?"–õ—å–æ–¥–æ–≤–∏–∫–æ–≤–∏–π –ü–µ—Ä—ñ–æ–¥":Math.abs(v-2)<0.2?"–ß–∞—Å –õ—é–¥–µ–π":"", font: {size:16, weight:'bold', family:"'Nunito', sans-serif"}, color: '#064e3b' }, grid: {display:false, drawBorder: false} },
                        y: { type: 'logarithmic', title: {display:true, text:'–í–∞–≥–∞ (–∫–≥/—Ç–æ–Ω–Ω–∏)', font:{weight:'bold', size:14}, color:'#065f46'}, grid: {color:'#e2e8f0', borderDash: [5, 5]} }
                    },
                    plugins: {
                        legend: {display:false},
                        tooltip: {
                            callbacks: { label: ctx => [`${ctx.raw.icon} ${ctx.raw.name}`, `–í–∞–≥–∞: ${ctx.raw.y < 1000 ? ctx.raw.y + ' –∫–≥' : (ctx.raw.y/1000).toFixed(1) + ' —Ç'}`, `–ü–µ—Ä—ñ–æ–¥: ${ctx.raw.period}`] },
                            backgroundColor: 'rgba(255,255,255,0.95)', titleColor: '#064e3b', bodyColor: '#1e293b', bodyFont: {size:14, weight:'bold'}, padding:16, borderColor: '#10b981', borderWidth:2, displayColors:false, cornerRadius: 12
                        }
                    }
                }
            });
        }

        // --- QUIZ LOGIC ---
        function startQuiz() {
            currentQ = 0; score = 0;
            document.getElementById('quiz-game-area').classList.remove('hidden-content');
            document.getElementById('quiz-results').classList.add('hidden-content');
            loadQ();
        }

        function loadQ() {
            const q = quizData[currentQ];
            document.getElementById('question-counter').textContent = `–ü–∏—Ç–∞–Ω–Ω—è ${currentQ + 1} –∑ ${quizData.length}`;
            document.getElementById('score-counter').textContent = score;
            document.getElementById('question-text').textContent = q.q;
            const c = document.getElementById('options-container');
            c.innerHTML = '';
            q.options.forEach((o, i) => {
                c.innerHTML += `<button onclick="check(${i})" class="quiz-option w-full text-left p-5 rounded-2xl bg-gray-50 border-2 border-transparent font-bold text-gray-700 hover:border-emerald-300 transition hover:shadow-md text-base md:text-lg">${o}</button>`;
            });
            document.getElementById('feedback-area').classList.add('hidden-content');
            document.getElementById('next-btn').classList.add('hidden-content');
        }

        function check(i) {
            const q = quizData[currentQ];
            const btns = document.querySelectorAll('.quiz-option');
            btns.forEach(b => b.classList.add('disabled'));
            const fb = document.getElementById('feedback-area');
            const icon = document.getElementById('feedback-icon');
            
            if(i === q.correct) {
                btns[i].classList.add('quiz-correct');
                score++;
                fb.classList.remove('bg-red-50', 'border-red-500'); fb.classList.add('bg-green-50', 'border-green-500');
                document.getElementById('feedback-title').textContent = "‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!";
                document.getElementById('feedback-title').className = "font-black text-2xl mb-2 text-green-700";
                icon.textContent = "üéâ";
            } else {
                btns[i].classList.add('quiz-wrong');
                btns[q.correct].classList.add('quiz-correct');
                fb.classList.remove('bg-green-50', 'border-green-500'); fb.classList.add('bg-red-50', 'border-red-500');
                document.getElementById('feedback-title').textContent = "‚ùå –ù–µ –∑–æ–≤—Å—ñ–º —Ç–∞–∫...";
                document.getElementById('feedback-title').className = "font-black text-2xl mb-2 text-red-700";
                icon.textContent = "ü§î";
            }
            document.getElementById('feedback-text').textContent = q.explanations[i];
            fb.classList.remove('hidden-content');
            document.getElementById('next-btn').classList.remove('hidden-content');
            document.getElementById('score-counter').textContent = score;
        }

        function nextQuestion() {
            currentQ++;
            if(currentQ < quizData.length) loadQ();
            else showRes();
        }

        function showRes() {
            document.getElementById('quiz-game-area').classList.add('hidden-content');
            document.getElementById('quiz-results').classList.remove('hidden-content');
            document.getElementById('final-score').textContent = score;
            let m = "";
            if(score === 40) m = "–ù–µ–π–º–æ–≤—ñ—Ä–Ω–æ! –¢–∏ —Å–ø—Ä–∞–≤–∂–Ω—ñ–π –ø–∞–ª–µ–æ–Ω—Ç–æ–ª–æ–≥-–µ–∫—Å–ø–µ—Ä—Ç! ü¶ñüéì –¢–≤–æ—ó –∑–Ω–∞–Ω–Ω—è –≤—Ä–∞–∂–∞—é—Ç—å!";
            else if(score >= 30) m = "–ß—É–¥–æ–≤–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –¢–∏ –∑–Ω–∞—î—à –º–∞–π–∂–µ –≤—Å–µ! üëç –ü—Ä–æ–¥–æ–≤–∂—É–π –¥–æ—Å–ª—ñ–¥–∂—É–≤–∞—Ç–∏!";
            else if(score >= 15) m = "–ù–µ–ø–æ–≥–∞–Ω–æ! –ê–ª–µ —â–µ —î —â–æ –≤–∏–≤—á–∞—Ç–∏ –≤ –µ–Ω—Ü–∏–∫–ª–æ–ø–µ–¥—ñ—ó. üßê –°–ø—Ä–æ–±—É–π –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –∫–∞—Ä—Ç–∫–∏ —â–µ —Ä–∞–∑.";
            else m = "–°–ø—Ä–æ–±—É–π —â–µ —Ä–∞–∑! üòâ –ü—Ä–æ—á–∏—Ç–∞–π —É–≤–∞–∂–Ω–æ —Ñ–∞–∫—Ç–∏ –Ω–∞ –∫–∞—Ä—Ç–∫–∞—Ö —ñ –ø–æ–≤–µ—Ä—Ç–∞–π—Å—è.";
            document.getElementById('result-message').textContent = m;
        }

        function scrollToSection(id) { document.getElementById(id).scrollIntoView({ behavior: 'smooth' }); }

        function sendRequest() {
            const val = document.getElementById('animal-request-input').value;
            const dadEmail = "dad.rising@outlook.com";
            if(val) {
                window.location.href = `mailto:${dadEmail}?subject=–ù–æ–≤–∞ —Ç–≤–∞—Ä–∏–Ω–∞ –¥–ª—è –ï–Ω—Ü–∏–∫–ª–æ–ø–µ–¥—ñ—ó&body=–ü—Ä–∏–≤—ñ—Ç! –Ø —Ö–æ—á—É, —â–æ–± —Ç–∏ –¥–æ–¥–∞–≤ —Ç–∞–∫—É —Ç–≤–∞—Ä–∏–Ω—É: ${val}`;
                document.getElementById('request-sent-msg').classList.remove('hidden-content');
            } else alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –Ω–∞–ø–∏—à–∏ –Ω–∞–∑–≤—É —Ç–≤–∞—Ä–∏–Ω–∏!");
        }
    </script>
</body>
</html>
